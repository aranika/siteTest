!function(a){loadSovetnikInjectorModule([0],[function(a,b,c){"use strict";c(1),c(6),c(57),c(71),c(76),c(78),c(79),c(80),c(83),c(84)},function(a,b,c){"use strict";function d(a){var b=document.createElement("a");return b.href=a,b.hostname}function e(a,b){if(a===b)return!0;var c=a.split("."),d=b.split(".");return d.length>c.length?!1:c.slice(-d.length).join(".")===b}function f(a){a.url&&a.tabId&&!a.frameId&&!function(){var b=d(a.url);i.some(function(a){return e(b,a)})&&h.getTabUrl(a.tabId,function(b){a.url===b&&g.trigger("page:reload",{tabId:a.tabId})})}()}var g=c(2),h=c(5),i=["youtube.com"];if(chrome.webNavigation&&chrome.webNavigation.onHistoryStateUpdated)try{chrome.webNavigation.onHistoryStateUpdated.addListener(f,{url:i.map(function(a){return{hostContains:a}})})}catch(j){chrome.webNavigation.onHistoryStateUpdated.addListener(f)}},function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var e=c(3),f=e.Mediator,g=c(4),h="from-another-context",i="event-hub",j=new f;j.on("",function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.pop(),e=!b.length||b[b.length-1]!==h;if(e){var f={type:i,namespace:d.namespace,params:b};if(b&&b[b.length-1]&&b[b.length-1].tabId){var j=b.pop();g.sendMessage(f,j)}else g.sendMessage(f)}}),g.onMessage(function(a,b,c){a&&a.type===i&&j.trigger.apply(j,[a.namespace].concat(d(a.params),[c,h]))}),j.a=[],j.savePopupListener=function(a,b){j.a.push({channel:a,listener:b})},j.removePopupListeners=function(){j.a=j.a.filter(function(a){var b=a.channel,c=a.listener;return b=j.getChannel(b),b.removeSubscriber(c),!1})},a.exports=j},,function(a,b){"use strict";var c={onMessage:function(a){var b=this;return chrome.runtime?void chrome.runtime.onMessage.addListener(function(b,c,d){var e=c&&c.tab&&c.tab.id&&c.tab.url;return e?a(b,d,{tabId:c.tab.id,tabUrl:c.tab.url}):void a(b,d)}):void setTimeout(function(){return b.onMessage(a)},500)},sendMessage:function(a,b){b&&b.tabId&&chrome.tabs.sendMessage(b.tabId,a)}};a.exports=c},function(a,b){"use strict";var c={create:function(a){chrome.windows.getAll({},function(b){if(b&&b.length){var c=void 0,d=b.filter(function(a){return a&&"normal"===a.type});if(d.length){var e=d.filter(function(a){return a&&a.focused});c=e.length?e[0]:d[0]}else c=b[0];"undefined"!=typeof c.id&&chrome.tabs.create({url:a,windowId:c.id})}})},onRemoved:function(a){chrome.tabs.onRemoved.addListener(a)},onReplaced:function(a){chrome.tabs.onReplaced.addListener(a)},onActivate:function(a){var b=this;chrome.tabs.onActivated.addListener(function(b){var c=b.tabId;return a(c)}),chrome.tabs.onUpdated.addListener(function(c,d){d&&"complete"===d.status&&b.getActiveTabId(function(b){b===c&&a(c)})}),chrome.tabs.onCreated.addListener(function(b){b&&b.id&&a(b.id)}),chrome.windows.onFocusChanged.addListener(function(){b.getActiveTabId(a)})},onTabActivate:function(a){var b=this;chrome.tabs.onActivated.addListener(function(b){var c=b.tabId;return a(c)}),chrome.tabs.onUpdated.addListener(function(c,d){d&&"complete"===d.status&&b.getActiveTabId(function(b){b===c&&a(c)})}),chrome.tabs.onCreated.addListener(function(b){b&&b.id&&a(b.id)})},onUpdate:function(a){var b=this;chrome.tabs.onUpdated.addListener(function(c,d){d&&"loading"===d.status&&d.url&&b.getActiveTabId(function(b){b===c&&a(c)})})},getActiveTabInfo:function(a){chrome.tabs.query({currentWindow:!0,active:!0},function(b){a(b&&b.length&&b[0].id?{tabId:b[0].id,tabUrl:b[0].url}:{})})},getActiveTabId:function(a){chrome.tabs.query({currentWindow:!0,active:!0},function(b){a(b&&b.length&&b[0].id)})},getActiveTabUrl:function(a){chrome.tabs.query({currentWindow:!0,active:!0},function(b){a(b&&b.length&&b[0].url)})},getTabUrl:function(a,b){chrome.tabs.get(a,function(a){chrome.runtime.lastError||b(a&&a.url)})},getAllUrls:function(a){chrome.tabs.query({},function(b){var c=b.map(function(a){return a.url}).filter(function(a){return!!a});a(c)})}};a.exports=c},function(a,b,c){"use strict";function d(){u=void 0,t=void 0}function e(){clearTimeout(t),clearTimeout(u)}function f(a){var b=o>a?"market_0000"+a:"market_000"+a;return"img/motion/"+b+".png"}function g(){var a=0,b=setTimeout(function c(){return a>n-1?(clearTimeout(b),!1):(chrome.browserAction.setIcon({path:f(a)}),a++,b=setTimeout(c,q),void 0)},q)}function h(){var a=1;t=setTimeout(function b(){a>p?clearTimeout(t):(g(),a++,t=setTimeout(b,r))},r)}function i(){u=setTimeout(function a(){h(),u=setTimeout(a,s)},0)}function j(){if(v===w){var a=x[v]&&x[v].has(y.CATEGORY_PAGE),b=x[v]&&x[v].has(y.NOT_FOUND);a||b||i()}}function k(){return navigator.userAgent.indexOf("Opera")>-1||navigator.userAgent.indexOf("OPR")>-1||navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("YaBrowser")>-1}var l=c(2),m=c(7).getButtonBadgeText,n=60,o=10,p=3,q=17,r=1500,s=3e4+3*r+q*n,t=void 0,u=void 0,v=void 0,w=void 0,x={},y=Object.freeze({PRODUCT_FOUND:1,NOT_FOUND:2,CATEGORY_PAGE:3});l.on("button-popup:shown",function(){e()}),chrome.tabs.onUpdated.addListener(function(a,b,c){if(v=a,b&&"loading"===b.status){e(),d();var f=x[v]&&x[v].has(y.NOT_FOUND),g=x[v]&&x[v].has(y.PRODUCT_FOUND),h=x[v]&&x[v].has(y.CATEGORY_PAGE);h?x[v]["delete"](y.CATEGORY_PAGE):f?(x[v]["delete"](y.NOT_FOUND),x[v]["delete"](y.PRODUCT_FOUND)):g&&x[v]["delete"](y.PRODUCT_FOUND)}}),chrome.tabs.onRemoved.addListener(function(a){e(),d(),delete x[a]}),chrome.tabs.onActivated.addListener(function(a){v=a.tabId,w=a.tabId,e(),d()}),l.on("request-cache:change-current",function(a){var b="";a&&a.response&&(b=m(a.response)),chrome.browserAction.setBadgeText({text:b.toString()})}),k()&&(l.on("request-cache:result-found",function(a,b){j(),x[v]?x[v].add(y.PRODUCT_FOUND):(x[v]=new Set,x[v].add(y.PRODUCT_FOUND))}),l.on("request-cache:result-not-found",function(){x[v]?x[v].add(y.NOT_FOUND):(x[v]=new Set,x[v].add(y.NOT_FOUND))}),l.on("category-page:result-found",function(a,b){j(),x[v]?x[v].add(y.CATEGORY_PAGE):(x[v]=new Set,x[v].add(y.CATEGORY_PAGE))}))},function(a,b,c){"use strict";var d=c(8),e=c(32),f=c(26),g=c(12),h=c(33),i={b:f.getStorageHost()+"/static/images/no-photo-stub.svg",getParseResult:function(a){var b=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],c=arguments.length<=2||void 0===arguments[2]?null:arguments[2],e={};if(e.isProduct=this.isProductResponse(a),e.isClothes=this.isClothesResponse(a),e.isSimilarModels=this.isSimilarModelsResponse(a),e.isSearchResult=this.isSearchResultResponse(a),e.isProduct){var f=this.getShopInfo(a);if(f&&(e.shopInfo=f),e.isClothes)e=d.mixin(e,this.getClothesInfo(a),this.getClothesUrls(a));else{var g=this.getModel(a);g&&(e.model=g),e=d.mixin(e,this.getPopupOffersInfo(a),this.getPricebarInfo(a),this.getProductUrls(a))}}else e.isSimilarModels&&(e.model=this.getModel(a),e=d.mixin(e,{isProduct:!0},this.getSimilarModels(a),this.getProductUrls(a)));return e=d.mixin(e,this.getRelevantCategories(a)),e=d.mixin(e,b&&this.getAppSettings(a),b&&this.getSiteInfo()),e.notification=this.getNotification(a),e.abTestInfo=this.getAbInfo(a),e.canShowOnboarding&&(e.cpaOnboardingOffer=this.getCPAOnboardingOffer(a)),c&&this.c(e,c),e=d.removeUndefined(e)},isProductResponse:function(a){return!!(a.offers&&a.offers.length&&a.offers[0].price)},getNotification:function(a){return a.notification?a.notification:void 0},isClothesResponse:function(a){return!!(a.offers&&a.offers.length&&a.offers[0].price&&"clothes-list"===a.offers[0].target)},isAviaResponse:function(a){return!!a.cheapestFlight},isSimilarModelsResponse:function(a){return!!(a&&a.similarModels&&a.similarModels.length)},isSearchResultResponse:function(a){return!!(a&&a.searchResult&&a.searchResult.length)},getAbInfo:function(a){var b={},c=a&&a.bucketInfo;if(c){var f=e.getModificators(c);b.abClass=f.map(function(a){return"ab_"+a}).concat(f).join(" ")||"",b.ab=d.reduce(f,function(a,b){return a[b]=!0,a},{})||{},b.abTestInfo=c||{}}return b},getBucketInfo:function(a){return a&&a.bucketInfo||{}},getAppSettings:function(a){var b=a.settings,c=a.searchInfo,e={isMbrApplication:b.isMbrApplication,applicationName:b.applicationName,needShowOptIn:b.needShowOptIn,optOutNotAcceptByDefault:b.optOutNotAcceptByDefault,isOptOutEnabled:"undefined"!=typeof b.needShowOptOut?g.needShowOptOut:g.isOptOutEnabled(),useSavedRandomContainer:b.randomContainer,autoShowShopList:b.autoShowShopList,needShowDisablePopup:!!b.needShowDisablePopup,isDisabled:!!b.isDisabled,viewModificators:g.getViewModificators(),customLogo:g.getCustomLogo(),settingsURL:f.getSettingsURL(),needShowShopsPopupForever:b.needShowShopsPopupForever,eulaUrl:c&&c.urls.eula,feedbackUrl:c&&c.urls.feedback,helpUrl:c&&c.urls.help,settingsItems:b.items,regionName:b.region,needShowAdultOptIn:b.needShowAdultOptIn,canShowOnboarding:b.canShowOnboarding,showAviaNotifications:b.showAviaNotifications,showProductNotifications:b.showProductNotifications};if(e.needShowOptIn&&e.isOptOutEnabled){var h=g.getOptInImage();h?e.optInImage=h:b.optOutImage&&(e.optInImage=f.getStorageHost()+"/static/images/"+b.optOutImage),e.optInTitle=g.getSettings()&&g.getSettings().optInTitle||b.optOutTitle||e.applicationName,b.optOutNotAcceptByDefault&&(e.optOutNotAcceptByDefault=!0)}return e=d.removeUndefined(e)},getShopInfo:function(a){var b=a.shopInfo;return b&&(b.gradeText=d.getGradeText(b.gradeTotal)),b},getSiteInfo:function(){return{isClassified:!!g.isClassified(),domain:document.domain,isWebPartner:!!g.isYandexWebPartner(),useRussianEnglishLetters:!!g.needUseRussianEnglishLetters()}},getModel:function(a){if(a.model){var b=function(){var b=d.mixin({},a.model);if(b.prices){var c={};for(var e in b.prices)b.prices.hasOwnProperty(e)&&(/^\d+$/.test(b.prices[e])?c[e]=d.formatPrice(b.prices[e]):c[e]=b.prices[e]);b.prices=c}return b.caption="",b.name&&(a.model.caption=b.caption=b.name),b.vendor&&0!==b.caption.indexOf(b.vendor)&&(a.model.caption=b.caption=b.vendor+" "+b.caption),b.rating&&(b.ratingText=d.ratingText(b.rating)),a.offers&&a.offers.forEach(function(a){a.warning&&(b.warning=a.warning)}),{v:b}}();if("object"==typeof b)return b.v}},getAllOffersFromResponse:function(a){var b=this;return a.offers?(a.offers=a.offers.map(function(a){return a.price.value=d.formatPrice(a.price.value),a.photo||(a.photo=b.b),a.price.base&&(a.price.base=d.formatPrice(a.price.base)),a.cpa?(a.buttonText="На Маркет",a.tooltip="Перейти на Маркет"):(a.buttonText="В магазин",a.tooltip="Перейти в магазин"),a}),a.offers):void 0},getPopupOffersInfo:function(a){var b=this,c=a.offers,e=a.searchInfo;a.settings;if(c){var f=function(){var a={offersFound:!0};return a.shops=c.filter(function(a){return"pricebar"!==a.target}).map(function(c,e){return c.age&&(c.age=String(parseInt(c.age,10)),c.needShowAgeBadge=!0,a.needShowAgeColumn=!0),!a.warning&&c.warning&&(a.warning=c.warning),c.price.discount&&(a.haveAnyDiscounts=!0),c.shopInfo.rating=Math.max(c.shopInfo.rating,0),c.mostRelevant?c.type="BestCPC":c.guaranteedLowestPrice?c.type="Lowest":c.type="Profitable",c.photo||(c.photo=b.b),c.cpa?(c.buttonText="На Маркет",c.tooltip="Перейти на Маркет"):(c.buttonText="В магазин",c.tooltip="Перейти в магазин"),c=d.removeUndefined({index:e+1,id:c.shopInfo.id,type:c.type,name:c.shopInfo.name,productName:c.name,rating:c.shopInfo.rating,gradeText:d.getGradeText(c.shopInfo.gradeTotal),url:c.url,buttonUrl:c.buttonUrl,price:d.formatPrice(c.price.value,c.price.currencyName||""),alternatePrice:c.alternatePrice&&d.formatPrice(c.alternatePrice.value,c.alternatePrice.currencyName||""),priceValue:c.price.value,photo:c.photo,discount:c.price.discount,oldPrice:d.formatPrice(Number(c.price.base),c.price.currencyName||""),target:c.target,delivery:c.delivery,shopUrl:c.shopInfo.url,age:c.age,needShowAgeBadge:c.needShowAgeBadge,buttonText:c.buttonText,tooltip:c.tooltip,cpa:c.cpa})}),a.offersCount=e&&e.offersCount||0,a.hasAdultOffers=c.some(function(a){return a.adult}),{v:a}}();if("object"==typeof f)return f.v}},getPricebarInfo:function(a){var b=a.offers,c=a.model,e=a.searchInfo;if(b&&b.length){var f={},g=b[0];return f.priceText=d.formatPrice(g.price.value,g.price.currencyName||""),g.alternatePrice&&(f.alternatePriceText=d.formatPrice(g.alternatePrice.value,g.alternatePrice.currencyName||"")),c?f.originalProductName=c.caption:f.originalProductName=g.name,f.productName=f.originalProductName,f.productName&&f.productName.length>64&&(f.productName=f.productName.substr(0,64)+"..."),"RUB"===g.price.currencyCode||"RUR"===g.price.currencyCode?f.currencyClass="rouble":f.currencyClass=g.price.currencyCode,e.convertedPrice&&(g.price.value=Math.round(parseFloat(g.price.value)),g.price.isPriceExtracted=!0,g.price.isHigherThanCurrent=g.price.value>=e.convertedPrice.value,g.price.isLowerThanCurrent=!g.price.isHigherThanCurrent),g.cpa?g.tooltip="Перейти на Маркет":g.tooltip="Перейти в магазин",f=d.mixin(f,{currency:g.price.currencyName,age:parseInt(g.age,10)||void 0,needShowAgeBadge:!!g.age,photo:g.photo,shop:g.shopInfo,mainOfferDelivery:g.delivery,isLowestPrice:g.price.isLowerThanCurrent,isHigherPrice:g.price.isHigherThanCurrent,isMostRelevant:g.mostRelevant,isHigherThanCurrent:g.price.isHigherThanCurrent,url:g.url,surfaceUrl:g.surfaceUrl,tooltip:g.tooltip}),d.removeUndefined(f)}},getRelevantCategories:function(a){var b={};return a.searchInfo&&d.mixin(b,{relevantCategories:a.searchInfo.categories}),d.removeUndefined(b)},getClothesInfo:function(a){var b=a.offers,c=a.searchInfo;if(b&&b.length){var e=0,f=void 0;return f=a.offers.map(function(a){return a.priceText=d.formatPrice(a.price.value,a.price.currencyName||"","от"),a.price.base&&(a.oldPriceText=d.formatPrice(a.price.base,a.price.currencyName||"","от")),a.alternatePrice&&(a.alternatePriceText=d.formatPrice(a.alternatePrice.value,a.alternatePrice.currencyName||"","от")),a}),e=d.reduce(f,function(a,b){var c=parseInt(b.price.discount,10);return c>a?c:a},0),{offers:f,maxDiscount:e,offersCount:c.offersCount,category:c.category.name,categoryUrl:c.category.url}}},getProductUrls:function(a){if(a&&a.searchInfo&&a.searchInfo.urls){var b=a.searchInfo.urls,c={marketUrl:b.market,shopsInfoUrl:b.shopsInfo,pricesUrl:b.prices,searchUrl:b.search,searchUrlButton:b.searchButton};return d.removeUndefined(c)}},getMarketUrlsFromResponse:function(a){if(a&&a.searchInfo&&a.searchInfo.urls){var b=a.searchInfo.urls,c=b.market,d=b.shopsInfo,e=b.help,f=b.helpPhone,g=b.helpTablet,h=b.eula,i=b.prices;return{market:c,shopsInfo:d,help:e,helpPhone:f,helpTablet:g,eula:h,prices:i}}},getClothesUrls:function(a){if(a&&a.searchInfo&&a.searchInfo.urls){var b=a.searchInfo.urls,c={marketUrl:b.market,offersUrl:b.prices,searchUrlButton:b.searchButton};return c}},getSearchResult:function(a){var b=this;if(a&&a.searchResult){var c={};return c.searchResult=a.searchResult.map(function(a){if(a.isModel){var c=a,e=c.reviewsCount,f=d.pluralize(["отзыв","отзыва","отзывов"],e);a.reviewsCountText=e+" "+f,a.ratingText=d.ratingText(a.rating),a.priceText=d.formatPrice(a.prices.min,a.prices.curName||""),a.priceMaxText=d.formatPrice(a.prices.max,a.prices.curName||""),a.alternatePrices&&(a.alternatePriceText=d.formatPrice(a.alternatePrices.min,a.alternatePrices.curName||""),a.alternatePriceMaxText=d.formatPrice(a.alternatePrices.max,a.alternatePrices.curName||"")),a.vendor&&0!==a.name.indexOf(a.vendor)?a.caption=a.vendor+" "+a.name:a.caption=a.name}else a.age&&(a.age=parseInt(a.age,10),a.needShowAgeBadge=!0),a.shopInfo.rating=Math.max(a.shopInfo.rating,0),a.mostRelevant?a.type="BestCPC":a.guaranteedLowestPrice?a.type="Lowest":a.type="Profitable",a.photo||(a.photo=b.b),a.cpa?(a.buttonText="На Маркет",a.tooltip="Перейти на Маркет"):(a.buttonText="В магазин",a.tooltip="Перейти в магазин"),a=d.removeUndefined({id:a.shopInfo.id,type:a.type,name:a.shopInfo.name,productName:a.name,rating:a.shopInfo.rating,gradeText:d.getGradeText(a.shopInfo.gradeTotal),url:a.url,buttonUrl:a.buttonUrl,price:d.formatPrice(a.price.value,a.price.currencyName||""),alternatePrice:a.alternatePrice&&d.formatPrice(a.alternatePrice.value,a.alternatePrice.currencyName||""),priceValue:a.price.value,photo:a.photo,warning:a.warning,discount:a.price.discount,oldPrice:d.formatPrice(Number(a.price.base),a.price.currencyName||""),target:a.target,delivery:a.delivery,shopUrl:a.shopInfo.url,age:a.age,needShowAgeBadge:a.needShowAgeBadge,cpa:a.cpa,buttonText:a.buttonText,tooltip:a.tooltip});return a.photo||(a.photo=b.b),a}),c}},getSimilarModels:function(a){if(a&&a.similarModels){var b={offersFound:!1};return b.similarModels=a.similarModels.map(function(a){var b=a.reviewsCount,c=d.pluralize(["отзыв","отзыва","отзывов"],b);a.reviewsCountText=b+" "+c,a.ratingText=d.ratingText(a.rating),a.priceText=d.formatPrice(a.prices.min,a.prices.curName||""),a.alternatePrices&&(a.alternatePriceText=d.formatPrice(a.alternatePrices.min,a.alternatePrices.curName||""));var e=a.name,f=a.vendor;return f&&0!==e.indexOf(f)?a.caption=f+" "+e:a.caption=e,a}),b.originalProductName=b.productName=a.model.caption,b.productName&&b.productName.length>64&&(b.productName=b.productName.substr(0,64)+"..."),b}},d:function(a,b){if(a){var c=/^http.+redir\?/;if(a)for(var d in a)a.hasOwnProperty(d)&&("string"==typeof a[d]?c.test(a[d])&&-1===a[d].indexOf(b)&&(a[d]+="&"+b):"object"==typeof a[d]&&this.d(a[d],b))}},c:function(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&c.push(d+"="+b[d]);b=c.join("&"),a&&this.d(a,b)},getAviaPopupData:function(a){var b={},c=a.avia,d=h.avia,e=d.PopupHeader,f=d.PopupFlights,g=d.InfoUrls;e.canParse(c)&&(b.header=new e(c)),f.canParse(c)&&(b.flights=new f(c)),g.canParse(a)&&(b.urls=new g(a),c.urls&&c.urls.search&&(b.urls.search=c.urls.search));var i=this.getAbInfo(a);b.abTestInfo=this.getAbInfo(a);for(var j in b)"object"!=typeof b[j]||Array.isArray(b[j])||(b[j].abTestInfo=i);return b},getAviaYaBroOptOutData:function(a){var b=h.desktop.YaBroOptOut;if(b.canParse(a)){var c={},d={type:"avia"};return c=new b(a,d)}},getButtonBadgeText:function(a){var b="";if(a.offers&&a.offers.length){var c=a.offers.slice(1);b=c.length,c[0].price&&"clothes-list"===c[0].target&&(b=a.offers.length)}else if(a&&a.similarModels)b=a.similarModels.length;else if(a&&a.searchResult){var d=a.searchResult.slice(1);b=d.length||""}return b},getDesktopComponentsData:function(a,b,c){var d=h.desktop,e=d.Footer,f=d.ModelLinks,i=d.ModelInfo,j=d.NotFound,k=d.ModelOffers,l=d.SearchResult,m=d.Clothes,n=d.SimilarModels,o=d.Accessories,p=d.SearchInfo,q=d.InfoPopup,r=d.SettingsPopup,s=d.OptOut,t=d.YaBroOptOut,u=d.AdultPopup,v=d.Tabs,w=d.Pricebar,x=this.getAbInfo(a),y=g.isClassified(),z={},A={type:"product",isButton:c,abTestInfo:x,isClassified:y};if(v.canParse(a)&&(z.tabs=new v(a,A),A.popupWithTabs=!0),w.canParse(a)&&(z.pricebar=new w(a,A)),r.canParse(a)&&(z.settingsPopup=new r(a,A)),q.canParse(a)&&(z.infoPopup=new q(a,A)),e.canParse(a)&&(z.footer=new e(a,A)),f.canParse(a)&&(z.modelLinks=new f(a,A)),i.canParse(a)&&(z.modelInfo=new i(a,A)),k.canParse(a)&&(z.offers=new k(a,A),z.searchResultCaption=a.searchResultCaption||"Результаты поиска на Яндекс.Маркете"),l.canParse(a)){var B=new l(a,A);z.searchResultCaption=B.searchResultCaption||"Результаты поиска на Яндекс.Маркете",z.searchItems=B.searchItems}if(j.canParse(a)&&(z.notFound=new j(a,A)),m.canParse(a)&&(z.clothes=new m(a,A)),n.canParse(a)&&(z.similarModels=new n(a,A),z.offers||(z.modelInfo.prices=null)),o.canParse(a)&&(z.accessories=new o(a,A)),p.canParse(a)){var C=new p(a,A);z.searchButtonUrl=C.searchButtonUrl,z.searchUrl=C.searchUrl}s.canParse(a)&&(z.optOut=new s(a,A)),t.canParse(a)&&(z.yaBroOptOut=new t(a,A)),u.canParse(a)&&(z.adultPopup=new u(a,A)),z.common={autoShowMainPopup:a.settings.autoShowShopList,needShowOptOut:a.settings.needShowOptIn},b&&this.c(z,b);for(var D in z)"object"!=typeof z[D]||Array.isArray(z[D])||(z[D].abTestInfo=x);return z.abTestInfo=x,z}};a.exports=i},function(a,b,c){"use strict";var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=(c(9),c(10),{e:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],throwCoin:function(){var a=arguments.length<=0||void 0===arguments[0]?50:arguments[0],b=100*Math.random();return a>b},getHostname:function(a){a=a||window.document;var b=a.domain;return/^www./.test(b)&&(b=b.slice(4)),b},getDateText:function(a,b,c,d){var e=this.e[b-1];return d?c+" "+e:c+" "+e+" "+a},formatAviaDate:function(a){var b=/(\d{4})-(\d{2})-(\d{2})/,c=b.exec(a);if(c&&c.length){var d=Number(c[1]),e=Number(c[2]),f=Number(c[3]);return this.getDateText(d,e,f,!0)}},isYandexNotificationsAvailable:function(){var a=c(11);return a.isYaBrowser()&&"undefined"!=typeof chrome&&!!chrome.notifications},isDocumentHidden:function(){return window.document.hidden},removeNode:function(a){a.parentNode&&a.parentNode.removeChild(a)},hasClass:function(a,b){return a?(" "+a.className+" ").indexOf(" "+b+" ")>-1:void 0},getPosition:function(a){var b=a.getBoundingClientRect();return{top:Math.round(b.top),bottom:Math.round(b.top+a.offsetHeight-window.innerHeight),left:Math.round(b.left),right:Math.round(b.left+a.offsetWidth-window.innerWidth)}},removeClass:function(a,b){return a?(a.className=a.className.replace(b,""),a.className):void 0},addClass:function(a,b){if(a){if(this.hasClass(a,b))return;return a.className?a.className+=" "+b:a.className=b,a.className}},isSubdomain:function(a,b){var c=a.indexOf(b);return-1===c?!1:0===c?!0:"."===a[c-1]},priceAnalyze:function(a){return a=(a.match(/\d(,|\.)/g)||[]).length>1?a:a.replace(/\s*/g,""),a=/\d+[\.,`]*[0-9]*[\.,`]*[0-9]*/g.exec(a),a=a&&a.length&&a[0]||"",a=a.replace(/[^0-9,\.]/g,""),a=a.replace(/(,|\.)$/g,""),a=a.replace(/(,|\.)\d\d?$/g,""),a=a.replace(/[.,]/g,""),a=a.replace(/`*/g,"")},getTextContents:function(a,b){for(var c="",d=0;d<a.childNodes.length;d++)a.childNodes[d].nodeType==document.TEXT_NODE?c+=" "+a.childNodes[d].textContent:b&&a.childNodes[d].alt?c+=a.childNodes[d].alt:a.childNodes[d].nodeType==document.ELEMENT_NODE&&(c+=" "+this.getTextContents(a.childNodes[d],b));return c=c.replace(/\s+/g," ").replace(/^[^\dA-Za-zА-Яа-я\(\)\.\,\$€]+/,"").replace(/[^\dA-Za-zА-Яа-я\(\)]\.\,\$€+$/,""),this.trim(c)},getQueryParam:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],d=[],e=void 0,f=[b,encodeURIComponent(b)];if(c)for(;-1!==a.lastIndexOf("#");)d=d.concat(a.substr(a.lastIndexOf("#")+1).split("&")),a=a.substr(0,a.lastIndexOf("#"));else{var g=a.indexOf("#");-1!==g&&(a=a.substring(0,g))}if(-1!=a.indexOf("?")&&(d=d.concat(a.substr(a.indexOf("?")+1).split("&"))),d)for(var h=0;h<f.length;h++)for(var i=0;i<d.length;i++)if(0===d[i].indexOf(f[h]+"="))return e=d[i].substr((f[h]+"=").length),decodeURIComponent(e.replace(/\+/g," "))},formatDate:function(a){var b=/^\d{4}-(\d{2})-(\d{2})/;return a&&b.test(a)?"("+RegExp.$2+" "+this.e[parseInt(RegExp.$1,10)-1]+")":""},getMonthNum:function(a){var b={"янв":"01","фев":"02","апр":"04","июн":"06","июл":"07","авг":"08","сен":"09","окт":"10","ноя":"11","дек":"12",jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12"};return a=a.toLowerCase(),-1!==a.indexOf("мар")?"03":-1!==a.indexOf("ма")?"05":b[a.substring(0,3)]},getProfitText:function(a,b,c){var d=a-b,e="";return d>100&&"руб."==c&&(e+=d+" "+c),e},isMonthOfNextYear:function(a){var b=(new Date).getMonth()+1;return b>a},mixin:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e={};return a=a||{},c.forEach(function(b){for(var d in b)"undefined"!=typeof e[d]&&e[d]==b[d]||"undefined"!=typeof c[d]||(a[d]=b[d])}),a},getPriceContextElement:function(a){if(document.currentScript&&document.currentScript.src)return document.currentScript;var b=document.getElementsByTagName("script");if(a)for(var c=b.length-1;c>=0;c--)if(b[c].src&&b[c].src.indexOf("sovetnik.webpartner.min.js")>-1)return b[c];for(var c=0;c<b.length;c++){var d=b[c].src&&(b[c].src.indexOf("static/js/ecomerce-context")>-1||b[c].src.indexOf("sovetnik.min.js")>-1||b[c].src.indexOf("mbr=")>-1);if(d)return b[c]}},f:function(){var a=document.getElementById("mbrstl"),b=document.getElementById("mbrtmplt");a&&a.parentNode.removeChild(a),b&&b.parentNode.removeChild(b)},getCurrencyFromStr:function(a){if(a){a=a.toUpperCase();var b=[{pattern:/(?:EUR)|€/,currency:"EUR"},{pattern:/(?:USD)|(?:У\.Е\.)|\$/,currency:"USD"},{pattern:/(?:UAH)|(?:ГРН)|(?:₴)/,currency:"UAH"},{pattern:/(?:RUR)|(?:RUB)|(?:Р\.)|(?:РУБ)/,currency:"RUB"},{pattern:/(?:ТГ)|(?:KZT)|(?:₸)|(?:ТҢГ)|(?:TENGE)|(?:ТЕНГЕ)/,currency:"KZT"},{pattern:/(?:GBP)|(?:£)|(?:UKL)/,currency:"GBP"}],c=b.map(function(b){return{currency:b.currency,index:a.search(b.pattern)}}).filter(function(a){return a.index>-1}).sort(function(a,b){return a.index-b.index});return c.length?c[0].currency:void 0}},getDifferentElement:function(a,b){var c=[].slice.call(document.querySelectorAll(a));for(b&&(c=c.filter(b));c.length>1;)c=c.map(function(a){return a.parentNode}),c=c.filter(function(a){return a&&1===c.filter(function(b){return b===a}).length});if(c.length){try{if(c[0].matches&&c[0].matches(a))return c[0];if(c[0].matchesSelector&&c[0].matchesSelector(a))return c[0];if(c[0].webkitMatchesSelector&&c[0].webkitMatchesSelector(a))return c[0]}catch(d){}return c[0].querySelector&&c[0].querySelector(a)}},getUniqueElements:function(a){var b=[].slice.call(document.querySelectorAll(a));return b.length&&!function(){var a=[],c=[],d=[];b.forEach(function(b){b.className?a.push(b):c.push(b)}),a=a.filter(function(b){var c=b.className;return 1===a.filter(function(a){return a.className===c}).length}),d=b.filter(function(a){return a.getAttribute("itemtype")}),d=d.filter(function(a){var b=a.getAttribute("itemtype");return 1===d.filter(function(a){return a.getAttribute("itemtype")===b}).length}),(c.length||a.length||d.length)&&(b=d,(!c.length||c.length&&c.length<b.length)&&(b=c),(!b.length||a.length&&a.length<b.length)&&(b=a)),b.length>5&&(b=[])}(),b},formatPrice:function(a,b,c){"USD"===b?b="$":"EUR"===b&&(b="€"),"string"==typeof a&&(a=a.replace(/\D/g,""));var d=a.toString().split("");return a=d.map(function(a,b){return b&&(d.length-b)%3===0&&(a=" "+a),a}).join(""),a=a.replace(" .","."),b&&(a+=" "+b),c&&(a=c+" "+a),a},getPageHeight:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)},getOffsetTop:function(){var a=window.pageYOffset;if(!a){var b=document.documentElement.clientHeight?document.documentElement:document.body;a=b.scrollTop||0}return a},getRandomHash:function(a){var b="",c=window.crypto||window.msCrypto;if(window.Uint32Array&&c&&c.getRandomValues)try{var d=new window.Uint32Array(Math.round(a/4+1)),e=0,f=c.getRandomValues(d);for(f&&f!==d&&f.length===d.length&&(d=f);b.length<a;)b+=d[e].toString(36).substr(1),e=(e+1)%d.length;return b=b.substr(0,a)}catch(g){}for(;b.length<a;)b+=Math.round(35*Math.random()).toString(36);return b},getGradeText:function(a){if(0===a)return"Нет отзывов";var b=this.pluralize(["отзыв","отзыва","отзывов"],a);return a+" "+b},getISBN:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=10,c=a.split(" ").filter(function(a){return a.length>=b&&a.replace("-","").match(/\d.+/)}).map(function(a){return a.replace(",","")});return c.toString()},pluralize:function(a,b){return a[b%10===1&&b%100!==11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2]},ratingText:function(a){return a%1>0?String(a):a+".0"},getScreenSize:function(){var a=Math.max(document.documentElement.clientWidth,window.innerWidth),b=Math.max(document.documentElement.clientHeight,window.innerHeight);return{width:a,height:b}},getScreenResolution:function(){var a=window.devicePixelRatio||1,b=window.screen.width,c=window.screen.height;return{ratio:a,width:b,height:c}},getViewport:function(){var a=document.body.clientWidth,b=document.body.clientHeight;return{width:a,height:b}},isPlugHunterExist:function(){var a=[].slice.call(document.querySelectorAll("script"));return a.some(function(a){return a.src&&-1!==a.src.indexOf("plughunter.ru")})},isStopSovetnikExists:function(){var a=[].slice.call(document.querySelectorAll("script"));return a.some(function(a){return a.src&&-1!==a.src.indexOf("stopsovetnik")})},getLocationOrigin:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname},reduce:function(a,b,c){if(null==a)throw new TypeError("Reduce called on null or undefined");if("function"!=typeof b)throw new TypeError(b+" is not a function");var d=Object(a),e=d.length>>>0,f=0,g=void 0;if(3==arguments.length)g=arguments[2];else{for(;e>f&&!f in d;)f++;if(f>=e)throw new TypeError("Reduce of empty array with no initial value");g=d[f++]}for(;e>f;f++)f in d&&(g=b(g,d[f],f,d));return g},getTransitionEndEvent:function(){if(!this.g){var a=document.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if("undefined"!=typeof a.style[c]){this.g=b[c];break}}return this.g},canUseCalc:function(){if("undefined"==typeof this.h){var a=document.createElement("a");a.style.cssText="width: calc(10px); width: -moz-calc(10px); width: -webkit-calc(10px);",this.h=!!a.style.length}return this.h},removeUndefined:function(a){return Object.keys(a).forEach(function(b){"undefined"==typeof a[b]&&delete a[b]}),a},throttle:function(a,b){function c(){return d?(e=arguments,void(f=this)):(a.apply(this,arguments),d=!0,void setTimeout(function(){d=!1,e&&(c.apply(f,e),e=f=null)},b))}var d=!1,e=void 0,f=void 0;return c},imageToBase64:function(a){return new Promise(function(b){var c=new Image;c.crossOrigin="Anonymous";var d=void 0;d=/\.jpeg/i.test(a)?"image/jpeg":/\.jpg/i.test(a)?"image/jpg":"image/png",c.onload=function(){var a,c=document.createElement("CANVAS"),e=c.getContext("2d");c.height=this.height,c.width=this.width,e.drawImage(this,0,0),a=c.toDataURL(d),c=null,b(a)},c.src=a})},getRequestAnimationFrame:function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;return a&&a.bind(window)},isInteger:function(a){return!isNaN(parseInt(a,10))&&isFinite(a)},parseStyleAttribute:function(a){var b=this;a=a||"";var c=a.split(";");return this.reduce(c,function(a,c){var e=c.split(":"),f=d(e,2),g=f[0],h=f[1];return g&&(a[b.trim(g)]=b.trim(h)),a},{})},trim:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},getStyleDifference:function(a,b){var c=this.parseStyleAttribute(a),d=this.parseStyleAttribute(b),e={};return Object.keys(c).forEach(function(a){d[a]!==c[a]&&(e[a]=d[a]),delete d[a]}),this.mixin(e,d)},isElementMatchesSelector:function(a,b){var c=this,d=HTMLElement.prototype,e=d.matches,f=d.matchesSelector,g=d.mozMatchesSelector,h=d.msMatchesSelector,i=d.oMatchesSelector,j=d.webkitMatchesSelector,k=function(a){var b=c.ownerDocument.querySelectorAll(a);return[].some.call(b,function(a){return a===c})},l=e||f||g||h||i||j||k;return l.call(a,b)},isVisible:function(a){if(!a.offsetWidth&&!a.offsetHeight&&!a.getClientRects().length)return!1;var b=window.getComputedStyle(a);return"hidden"!==b.visibility},getUILanguage:function(){return"undefined"!=typeof chrome&&chrome.i18n&&chrome.i18n.getUILanguage&&chrome.i18n.getUILanguage()||window.navigator&&window.navigator.language},updateData:function(a,b){for(var c in a)a.hasOwnProperty(c)&&("object"==typeof a[c]?(b[c]=b[c]||(Array.isArray(a[c])?[]:{}),this.updateData(a[c],b[c])):b[c]=a[c])}});a.exports=e},function(a,b,c){"use strict";var d=c(3),e=d.Mediator,f=void 0;a.exports=f||new e},function(a,b){"use strict";function c(){try{window.localStorage&&window.localStorage["svt.debug"]&&console.log.apply(console,arguments)}catch(a){}}a.exports=c},function(a,b,c){
"use strict";var d=c(8),e=(c(10),c(9)),f=(c(12),{isMobile:function(){var a=navigator.userAgent||navigator.vendor||window.opera,b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;return b.test(a)||this.isTabletBrowser()||this.isPhoneBrowser()},isMobileView:function(a){return a&&(this.isPhoneBrowser()||this.isTabletBrowser())},isTabletBrowser:function(){return this.isIOSTabletBrowser()||this.isTabletYandexBrowser()||this.isAndroidTabletBrowser()},isPhoneBrowser:function(){return this.isIOSPhoneBrowser()||this.isPhoneYandexBrowser()||this.isAndroidPhoneBrowser()},isSupportedBrowser:function(a){return this.isMobile()&&!d.canUseCalc()?(e.trigger("sovetnik:stopped",!0,"calc"),!1):this.isMobile()&&this.isUCBrowser()?(e.trigger("sovetnik:stopped",!0,"mobile-uc"),!1):this.isMobile()&&this.isFirefoxBrowser()?(e.trigger("sovetnik:stopped",!0,"mobile-ff"),!1):!this.isMobile()||this.isMobile&&a},isMacBrowser:function(){return navigator&&navigator.platform&&navigator.platform.indexOf("Mac")>-1},isUCBrowser:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("UCBrowser")>-1},isFirefoxBrowser:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("firefox")>-1},isYaBrowser:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("YaBrowser")>-1},isIOSTabletBrowser:function(){return navigator&&navigator.userAgent&&/iPad/.test(navigator.userAgent)&&!window.MSStream},isIOSPhoneBrowser:function(){return navigator&&navigator.userAgent&&/iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroidTabletBrowser:function(){return navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)&&!/Mobile/.test(navigator.userAgent)&&!window.MSStream},isAndroidPhoneBrowser:function(){return navigator&&navigator.userAgent&&/Android/.test(navigator.userAgent)&&/Mobile/.test(navigator.userAgent)&&!window.MSStream},isPhoneYandexBrowser:function(){if(navigator.userAgent){var a=function(){var a=navigator.userAgent.split(" "),b=/^YaBrowser.+\.00$/;return{v:a.some(function(a){return b.test(a)})}}();if("object"==typeof a)return a.v}},isTabletYandexBrowser:function(){if(navigator.userAgent){var a=function(){var a=navigator.userAgent.split(" "),b=/^YaBrowser.+\.01$/;return{v:a.some(function(a){return b.test(a)})}}();if("object"==typeof a)return a.v}}});a.exports=f},function(a,b,c){"use strict";var d=c(13),e=c(17),f=c(8),g=c(10),h=c(9),i=c(18),j=c(22),k=(c(23),c(24)),l=c(25),m=c(26),n=c(27),o={i:n,j:{},k:"Price Suggest - ",isYandexWebPartner:function(){return!!this.i.yandexWebPartner},needSendParserFailed:function(){return this.l&&this.l.needSendParserFailed},getDomainDataSignature:function(){return this.l&&this.l.domainDataSignature},m:function(){if(document.URL.indexOf("mvideo")>-1){var a=document.URL;a=a.replace(/\?.+/,""),e.set("svt-url",a)}},n:function(){return document.URL.indexOf("mvideo")>-1&&document.URL===decodeURIComponent(e.get("svt-url"))},o:function(a){var b=/([^\.]+?)\.[^\.]+?$/,c=b.exec(a);return c&&c.length>1?("yandex"===c[1]||"ya"===c[1])&&-1===a.indexOf("sovetnik"):void 0},p:function(a){if(a){var b=a.replace(/https?:\/\//,"");if(this.j.yandexBlackList)for(var c=0;c<this.j.yandexBlackList.length;c++)if(0===b.indexOf(this.j.yandexBlackList[c]))return!0;return this.l&&this.l.isBlacklistedByReferrer()}return!1},isSuggestScriptEnabled:function(){var a=f.getHostname(document);if(this.isSettingsPage())return!0;if(this.q&&this.q.sovetnikRemoved)return g("sovetnik removed"),!1;if(this._domainDisabled)return h.trigger("script:domainDisabled",document.domain),h.trigger("script:disabled","DisabledForDomain"),g("domain disabled"),!1;if(this.isYandexWebPartner())return!0;if(this.q&&this.q.offerEnabled&&"rejected"===this.q.offer)return h.trigger("script:disabled","EulaNotAccepted"),g("offer rejected"),!1;if(this.l&&(this.l.isBlacklisted()||this.l.isYandexWebPartner()))return g("full blacklist"),!1;if(this.j.fullBlackList)for(var b=0;b<this.j.fullBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.fullBlackList[b]))return h.trigger("page:fullBlackList",a),g("full blacklist"),!1;if(this.j.yandexWebPartners)for(var b=0;b<this.j.yandexWebPartners.length;b++)if(a&&f.isSubdomain(a,this.j.yandexWebPartners[b]))return h.trigger("page:yandexWebPartners",a),g("yandex web partners"),!1;return this.o(a)?(g("yandex site"),!1):this.p(document.referrer)?(g("from yandex partner"),!1):!0},isProductSuggestEnabled:function(){var a=f.getHostname(document);if(this.isYandexWebPartner())return!0;if(this.l&&!this.l.canUsePriceContext())return!1;if(this.j.pcBlackList)for(var b=0;b<this.j.pcBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.pcBlackList[b]))return g("pc blacklist"),!1;return this.l&&!this.l.ajax&&this.l.canBeMainPage()?(g("main page"),!1):!0},isSpecifiedValuesEnabled:function(){return!!this.l&&!!this.l.specifiedValues},canBeProductPage:function(){return this.l?this.l.canBeProductPage():!0},isCategoryPage:function p(){var p=this.l&&this.l.canBeCategoryPage();if(p){var a=this.getTransactionId(),b=document.URL;h.trigger("category-page:result-found",a,b)}return p},isAjaxSite:function(){return this.l&&this.l.ajax},isAviaSuggestEnabled:function(){return!0},canBeAviaPage:function(){return this.l&&this.l.urlTemplates?this.l.canBeAviaPage():!0},canExtractPrice:function(){return this.l?this.l.canExtractPrice():!0},canUseMicrodata:function(){var a=f.getHostname(document);if(this.l&&!this.l.canUseMicrodata())return!1;if(this.j.microdataBlackList)for(var b=0;b<this.j.microdataBlackList.length;b++)if(a&&f.isSubdomain(a,this.j.microdataBlackList[b]))return!1;return!this.isForSelectors()},canAddRelativePosition:function(){var a=f.getHostname(document);if(this.l&&!this.l.canAddRelativePosition())return!1;if(this.j.relativePositionBlacklist)for(var b=0;b<this.j.relativePositionBlacklist.length;b++)if(a&&f.isSubdomain(a,this.j.relativePositionBlacklist[b]))return!1;return!0},canAddMarginTop:function(){return this.l&&this.l.canAddMarginTop()&&!this.isAnti()},getFixedHeaderSelector:function(){return this.l&&this.l.getFixedHeaderSelector()},getPricebarTopPosition:function(){return this.l?this.l.getPricebarTopPosition():-1},needUseRussianEnglishLetters:function(){return this.l&&this.l.needUseRussianEnglishLetters()},canCheckDomain:function(){return!this.getSelector()},canCheckCMS:function(){return!this.getSelector()&&!this.isForSelectors()},isOurSite:function(a){return a&&a.indexOf(".metabar.ru")>-1||"localhost"===a||a.indexOf(".yandex.ru")>-1},isSettingsPage:function(){return document.URL&&0===document.URL.indexOf(m.getSettingsHost())},getViewModificators:function(){return this.q&&this.q.view},getCustomLogo:function(){return this.q&&this.q.customLogo},isUniversalScript:function(){return this.i&&this.i.universalScript},getRandomNameLength:function(){return document.URL.match(/holodilnik\.ru/)?7:13},isStatsEnabled:function(){return!(this.q&&this.q.statsDisabled)},getContainerId:function(a,b){if(b){var c=(parseInt(localStorage.containerId,10)||0)%a;return localStorage.containerId=c+1,c}return Math.round(Math.random()*a)},r:function(a){var b=c(11);this.j=a.blacklist||{},this.s=a.selector,this.l=new i(a.domainData,a.referrerData),this.t=a.versionSent,this.u=b.isMobile(),g(a)},hasSelectors:function(){return this.l.hasSelectors},getSelector:function(){var a=!0,b=j[f.getHostname()];if(this.q&&this.q.selector)return{name:this.q.selector};var c=this.s||this.l&&this.l.selector||null;if(b&&a)if(c)for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);else c=b;return c},getSpecifiedValues:function(){return this.l.specifiedValues},getUrlTemplates:function(){return this.l&&this.l.urlTemplates?this.l.urlTemplates:void 0},getAviaDomainWait:function(){return this.l&&this.l.wait?this.l.wait:void 0},getAviaDomainNotFoundSelector:function(){return this.l&&this.l.notFoundSelector?this.l.notFoundSelector:void 0},getWhiteLabelName:function(){return this.l&&this.l.whiteLabelName?this.l.whiteLabelName:void 0},getCartInfo:function(){if(this.l){var a=this.l,b=a.checkout,c=a.cart;if(b&&c)return{checkout:b,cart:c}}},isReviewSite:function(){if(this.l&&this.l.isReviewSite())return!0;var a=this.getSelector();return a&&"review"===a},getProductName:function(){return this.q&&this.q.productName},getModelId:function(){return this.q&&this.q.modelId},getAppVersion:function(){return"201802281227"},getAffId:function(){return this.q&&this.q.affId},getClid:function(){return this.q&&this.q.clid},isDebugMode:function(){try{return window.localStorage&&window.localStorage.getItem("svt.debug")&&"false"!==window.localStorage.getItem("svt.debug")}catch(a){return!1}},isAvitoSite:function(){return location.host.indexOf("avito.ru")>-1},isAliexpress:function(){return location.host.indexOf("aliexpress.com")>-1},isWildberries:function(){return location.host.indexOf("wildberries.ru")>-1},isLamoda:function(){return location.host.indexOf("lamoda.ru")>-1},isShop:function(){return this.l&&this.l.isShop()},isLogSite:function(){return this.l&&this.l.isLogSite()},isClassified:function(){return this.l&&this.l.isClassified()},isSilentEnabled:function(){return this.isYandexWebPartner()||1200==this.getAffId()},isSilentMode:function(){return this.isSilentEnabled()&&this.q&&this.q.silent},needCleanDOM:function(){return!this._doNotClean&&!this.isYandexWebPartner()},synchronizeSettings:function(){var a=c(28);return window.mbr&&window.mbr.settingsJSON?this.applySettings(mbr.settingsJSON):window.svt&&"undefined"!=typeof settingsJSON?this.applySettings(settingsJSON):this.isUniversalScript()?this.applySettingsFromUrl()||a.loadSettings().then(this.applySettings.bind(this)):this.isYandexWebPartner()?this.applySettingsFromUrl()||d.resolve():this.applySettingsFromUrl()||a.loadSettings().then(this.applySettings.bind(this))},getScrollPosition:function(){return+(this.q&&this.q.startScroll||0)},getStartDelay:function(){return+(this.q&&this.q.startDelay||0)},getAjaxSessionId:function(){return this.l&&this.l.isAjaxSite()?(this.w||(this.w=l()),this.w):void 0},getTransactionId:function(){return"undefined"!=typeof svt&&svt.transactionId&&(this.x=svt.transactionId),this.x||(this.x=l()),this.x},resetTransactionId:function(){this.x=l(),"undefined"!=typeof svt&&(svt.transactionId=this.x)},getReferrer:function(){return document.referrer},canShowAdultOffer:function(){return"rejected"!==this._adultOffer},needShowAdultOptIn:function(){return"accepted"!==this._adultOffer},applySettingsFromUrl:function(){var a=f.getPriceContextElement(this.isYandexWebPartner()),b=["affId","clid","applicationName","optInTitle","offerEnabled","affSub","autoShowShopList","selector","productName","modelId","startScroll","startDelay","statsDisabled","activeCity","activeCountry","otherRegions","silent","mobileEnabled","optInImage"];if(a){var c=void 0,d=f.getQueryParam(a.src,"settings");if(d)c=JSON.parse(decodeURIComponent(d));else for(var e=void 0,g=0;g<b.length;g++)e=f.getQueryParam(a.src,b[g]),"undefined"!=typeof e&&(e="true"===e?!0:"false"===e?!1:e,c=c||{},c[b[g]]=e);if(a.parentNode&&a.parentNode.removeChild(a),c)return this.applySettings(c)}},y:function(a){var b=void 0;return a.hasOwnProperty("modelId")&&(b=Number(a.modelId),b&&b>0||delete a.modelId),a},applySettings:function(a){if(g("apply settings"),g(a),!this.z){for(;"string"==typeof a;)a=JSON.parse(a);this.q=this.q||{};var b={};if(a)if(a=this.y(a),this.isYandexWebPartner()){delete this.q.clid,delete this.q.affId;for(var c in a)a.hasOwnProperty(c)&&(this.q[c]=a[c])}else for(var c in a)a.hasOwnProperty(c)&&("undefined"==typeof this.q[c]&&("clid"===c?this.q.affId&&this.q.affId!=a.affId||(this.q[c]=a[c]):this.q[c]=a[c]),b[c]=a[c]);if(this.i)for(var c in this.i)this.i.hasOwnProperty(c)&&("undefined"==typeof this.q[c]&&(this.isYandexWebPartner()?this.q[c]=this.i[c]:"clid"===c?this.q.affId&&this.q.affId!=this.i.affId||(this.q[c]=this.i[c]):this.q[c]=this.i[c]),"undefined"==typeof b[c]&&(b[c]=this.i[c]));this._resolvePostMessage&&this._resolvePostMessage(),this.z=!0}return d.resolve()},saveStartTime:function(a){this.A=a},getStartTime:function(){return this.A},getTimeAfterStart:function(){return window.performance?(new Date).getTime()-window.performance.timing.domContentLoadedEventStart:(new Date).getTime()-this.getStartTime()},delayAfterStart:function(a){var b=this.getTimeAfterStart.bind(this);return new d(function(c){function d(){b()>1e3*a&&(clearInterval(e),c())}var e=setInterval(d,2e3)})},setSetting:function(a,b){var c=void 0,e=k&&k.isCORSSupported()||c?k:c,f={};f[a]=b,f.transactionId=this.getTransactionId();var h={settings:JSON.stringify(f)};return new d(function(a,b){e.post(m.getApiHost()+"/settings",h,function(c){return g(c),c?void a():void b()})})},getSettings:function(){return this.q},shouldUseIframeStorage:function(){return!this.q||!this.q.extensionStorage},isCustomSettingsPageExists:function(){return this.q&&this.q.customSettingsPage},isOptOutEnabled:function(){return this.q?!this.q.optIn:!0},getOptInImage:function(){return this.q&&this.q.optInImage},init:function(a,b){var e=this;if(b)return this.r({domainData:b});var f=c(28);return this.B?this.B:(this.B=f.canUseDomainData().then(function(b){var c={};if(b){if(e.isForSelectors()&&"function"==typeof getDomainData?c.domainData=getDomainData(a):c.domainData=f.getDomainData(a),!e.q.extensionStorage&&f.needSetYSCookie()?c.versionSent=f.get("versionSent",!0):c.versionSent=d.resolve(!0),document.referrer){var g=document.referrer.replace(/^https?\:\/\//,"").replace(/\/.*$/,"");g&&(c.referrerData=f.getDomainData(g))}}else c.selector=f.getSelector(a),c.blacklist=f.get("blacklist");var h=[],i=[];for(var j in c)c.hasOwnProperty(j)&&(h.push(j),i.push(c[j]));return d.all(i).then(function(a){for(var b={},c=0;c<a.length;c++)b[h[c]]=a[c];return b})}).then(function(a){return e.r(a)}),this.B)},waitToStartScript:function(){var a=this.getScrollPosition(),b=this.getStartDelay();return new d(function(c){function d(){f.getOffsetTop()/f.getPageHeight()*100>a&&(g("try run after scroll"),window.removeEventListener?window.removeEventListener("scroll",d):window.detachEvent&&window.detachEvent("onscroll",d),c())}a&&(g("wait when scroll is "+a+"%"),window.addEventListener?window.addEventListener("scroll",d,!1):window.attachEvent&&window.attachEvent("onscroll",d)),b&&(g("wait "+b+" seconds"),o.delayAfterStart(b).then(function(){g("run after delay"),c()})),a||b||(g("run script without delay"),c())})},C:function(){return(this.getClid()||this.getAffId())+this.getAppVersion()},D:function(){var a=[],b=document.documentElement.getAttribute("g_init");return b&&(a=b.split(",")),a},isScriptStarted:function(){var a=this.C(),b=1===this.D().filter(function(b){return b===a}).length;return b},removeScriptStartedInfo:function(){var a=this.C(),b=this.D().filter(function(b){return b!==a});b.length?document.documentElement.setAttribute("g_init",b.join(",")):document.documentElement.removeAttribute("g_init")},setScriptStarted:function(){var a=this.C(),b=this.D();b.push(a),document.documentElement.setAttribute("g_init",b.join(","))},needUseRandomContainer:function(){return this.l&&this.l.needUseRandomContainer()},isAnti:function(){return!!document.querySelector('[checkSovetnik="1"]')},needSendVersion:function(){return!this.t&&this.isSuggestScriptEnabled()},sendVersionToServer:function(){var a=c(28);this.needSendVersion()&&k.isCORSSupported()?(g("sending version"),k.post(m.getApiHost()+"/sovetnik",{version:this.getAppVersion(),url:document.URL},function(){g("version has been sent"),a.set("versionSent",!0,!0)})):g("i dont need send version")},isMobileVersionEnabled:function(){return this.i.mobileEnabled},isMobile:function(){return this.u},getNotificationStatus:function(){return f.isYandexNotificationsAvailable()?"yandex":this.q&&this.q.notificationStatus},isButtonExtension:function(){return this.q&&this.q.withButton},needRequestNotificationPermission:function(){return this.q&&this.q.notificationStatus&&!this.q.notificationPermissionGranted},clearPriceContextNodes:function(a){var b=this,d=c(28);this.needCleanDOM()&&(h.on("pipe:reject",function(){g("clear iframe after pipe:reject"),f.f(),b.removeScriptStartedInfo(),d.clear()}),a&&(f.f(),this.removeScriptStartedInfo(),d.clear()))},isNative:function q(){var q=!1;return q},getSiteInfo:function(){return this.l},isForSelectors:function(){return this.q&&5==this.q.affId}};a.exports=o},function(a,b,c){"use strict";"undefined"==typeof Promise?a.exports=c(14):a.exports=Promise},,,,function(a,b){"use strict";var c={set:function(a,b,c,d,e){var f=a+"="+window.escape(b)+";";c&&(c instanceof Date?window.isNaN(c.getTime())&&(c=new Date):c=new Date((new window.Date).getTime()+1e3*window.parseInt(c,10)*60*60*24),f+="expires="+c.toGMTString()+";"),d&&(f+="path="+d+";"),e&&(f+="domain="+e+";"),window.document.cookie=f},get:function(a){var b=new RegExp("(?:^"+a+"|;\\s*"+a+")=(.*?)(?:;|$)","g"),c=b.exec(window.document.cookie);return null===c?null:c[1]},remove:function(a){this.set(a,"",new Date(1970,1,1,1,1),"/")}};a.exports=c},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(10),g=c(8),h=c(19),i=(c(20),c(9),!1),j=!1,k=function(){function a(b,c){d(this,a),this.E=b,this.F=c,this.G=window&&window.localStorage&&window.localStorage["svt.debug"]&&JSON.parse(window.localStorage["svt.debug"])||{},this.E&&this.E.selector||(this.E=g.mixin(this.E,h.getParseData(window.location,document)))}return e(a,[{key:"currentDomainDataExists",value:function(){return!!this.E}},{key:"_checkRule",value:function(a,b,c){var d=c?this.F:this.E;return d&&d.rules&&d.rules.length&&d.rules.indexOf(a)>-1?(b&&f(b),!0):!1}},{key:"isAjaxSite",value:function(){return!!this.ajax}},{key:"canBeMainPage",value:function(){var a=document.URL;return this.mainPageTemplates&&this.mainPageTemplates.length?this.mainPageTemplates.some(function(b){return new RegExp(b).test(a)}):"/"===window.location.pathname}},{key:"canBeProductPage",value:function(){var a=void 0,b=document.URL;if(this.urlTemplates){if(a=this.urlTemplates.some(function(a){return new RegExp(a).test(b)}))return!0;i||(f("It's not a product page. Criterion: url doesn't match urlTemplate"),i=!0)}else{if(!this.productPageSelector)return!0;if(a=document.querySelector(this.productPageSelector))return!0;j||(f("It's not a product page. Criterion: there is no element of productPageSelector"),j=!0)}return!1}},{key:"canBeCategoryPage",value:function(){var a=document.URL;if(this.categoryUrlTemplate){var b=new RegExp(this.categoryUrlTemplate);return b.test(a)?(f("category page - defined by url"),!0):!1}if(this.categoryPageSelector){var c=document.querySelector(this.categoryPageSelector);if(c)return f("category page - defined by page selector"),!0}return!1}},{key:"canBeAviaPage",value:function(){if(this.whiteLabelName)return!0;var a=void 0,b=document.URL;return"avia"!==this.pageType?!1:this.urlTemplates?!!(a=this.urlTemplates.some(function(a){return new RegExp(a).test(b)})):!0}},{key:"isBlacklisted",value:function(){return this._checkRule("blacklisted","domain is blacklisted")}},{key:"isYandexWebPartner",value:function(){return this._checkRule("yandex-web-partner","this is webpartner")}},{key:"isBlacklistedByReferrer",value:function(){return this._checkRule("blacklisted-by-referrer","blacklisted by referrer",!0)}},{key:"canUsePriceContext",value:function(){return!this._checkRule("no-price-context","can not use price context")}},{key:"canUseMicrodata",value:function(){return!this._checkRule("no-microdata","can not use microdata")}},{key:"canExtractPrice",value:function(){return!this._checkRule("no-price","can not extract price")}},{key:"canAddRelativePosition",value:function(){return!this._checkRule("no-relative-position","can not add relative position")}},{key:"canAddMarginTop",value:function(){return!this._checkRule("no-margin-top","can not add margin-top")}},{key:"isReviewSite",value:function(){return this._checkRule("review","this is review site")}},{key:"isShop",value:function(){return this._checkRule("shop","this is shop")||this._checkRule("market-shop","this is shop")}},{key:"isLogSite",value:function(){return this._checkRule("lgs")}},{key:"isClassified",value:function(){return this._checkRule("classified")}},{key:"needUseRandomContainer",value:function(){return this._checkRule("random-container","should use random container")}},{key:"getFixedHeaderSelector",value:function(){return this.E&&this.E.fixedHeaderSelector}},{key:"getPricebarTopPosition",value:function(){return this._checkRule("top-is-0")?0:-1}},{key:"needUseRussianEnglishLetters",value:function(){return this._checkRule("russian-english-letters","should use russian-english letters")}},{key:"hasSelectors",get:function(){return this.E&&this.E.selector}},{key:"selector",get:function(){var a=window.location.href;if(this.overrides){var b=this.overrides.filter(function(b){return b.urlTemplates.some(function(b){return new RegExp(b).test(a)})})[0];if(b)return b.selectors}return this.G&&this.G.overrides&&this.G.overrides.selector?this.G.overrides.selector:this.E&&this.E.selector}},{key:"specifiedValues",get:function(){return this.E&&this.E.specifiedValues}},{key:"overrides",get:function(){return this.E&&this.E.overrides}},{key:"ajax",get:function(){var a=this.E&&this.E.ajax;return a&&a.forEach(function(a){a.urlRegExps=a.urlTemplates.map(function(a){return new RegExp(a)})}),a}},{key:"checkout",get:function(){return this.E&&this.E.checkout}},{key:"cart",get:function(){return this.E&&this.E.cart}},{key:"urlTemplates",get:function(){return this.E&&this.E.urlTemplates}},{key:"mainPageTemplates",get:function(){return this.E&&this.E.mainPageTemplates}},{key:"wait",get:function(){return this.E&&this.E.wait}},{key:"notFoundSelector",get:function(){return this.E&&this.E.notFoundSelector}},{key:"whiteLabelName",get:function(){return this.E&&this.E.whiteLabelName}},{key:"pageType",get:function(){return this.E&&this.E.type}},{key:"productPageSelector",get:function(){var a=window.location.href;if(this.overrides){var b=this.overrides.filter(function(b){return b.urlTemplates.some(function(b){return new RegExp(b).test(a)})})[0];if(b)return b.productPageSelector}return this.E&&this.E.productPageSelector}},{key:"categoryPageSelector",get:function(){return this.E&&this.E.categoryPageSelector}},{key:"categoryUrlTemplate",get:function(){return this.E&&this.E.categoryUrlTemplate}}]),a}();a.exports=k},function(a,b,c){"use strict";var d=c(8),e={partners:[{name:"aviasales",wait:{until:"element",selector:".search_progressbar-container",container:".layout-manager",exist:!1},notFoundSelector:".message--empty_tickets",detect:{urlTemplates:["/flights/(\\w{3})(\\d{4})(\\w{3})(\\d{4})?(\\d{1})?(\\d{1})?(\\d{1})?"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:3},"depart-date":{source:"regex",type:"date",value:2,format:{re:"(\\d{2})(\\d{2})",year:null,day:1,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{2})(\\d{2})",year:null,day:1,month:2}},adult:{source:"regex",type:"int",value:5},child:{source:"regex",type:"int",value:6},infant:{source:"regex",type:"int",value:7},price:{source:"selector",value:".ticket .currency_font",type:"price",wait:!0}}},{name:"skyscanner",wait:{until:"element",selector:".progress-bar-with-title",container:".js-results-progress-panel",exist:!1},ajax:[{urlTemplates:["flights"],actions:[{name:"change",triggers:[{type:"hashchange"}],conditions:[{selector:"#search",shouldBe:"visible"}]}]}],notFoundSelector:".message--empty_tickets",detect:{urlTemplates:["#/result\\?originplace=(\\w{3})&destinationplace=(\\w{3})&outbounddate=(\\d{4}-\\d{2}-\\d{2})&inbounddate=(\\d{4}-\\d{2}-\\d{2})?[\\s\\S]*adults=(\\d{1})&children=(\\d{1})&infants=(\\d{1})"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:2},"depart-date":{source:"regex",type:"date",value:3,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},adult:{source:"regex",type:"int",value:5},child:{source:"regex",type:"int",value:6},infant:{source:"regex",type:"int",value:7},price:{source:"selector",value:".js-cheapest-price",type:"price",wait:!0}}},{name:"kayak",notFoundSelector:"#content_div .noresults",wait:{until:"element",selector:".Common-Results-ProgressBar.theme-phoenix",container:".keel-container",exist:!1},detect:{urlTemplates:["/flights/(\\w{3})-(\\w{3})/(\\d{4}-\\d{2}-\\d{2})(?:/(\\d{4}-\\d{2}-\\d{2}))?"]},attributes:{depart:{source:"regex",type:"location",value:1},arrive:{source:"regex",type:"location",value:2},"depart-date":{source:"regex",type:"date",value:3,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},"return-date":{source:"regex",type:"date",value:4,format:{re:"(\\d{4})-(\\d{2})-(\\d{2})",year:1,day:3,month:2}},adult:{source:"selector",type:"int",value:"input[id*=travelers-adults-input]"},child:{source:"selector",type:"int",value:"input[id*=travelers-child-input]"},infant:{source:"selector",type:"int",value:"input[id*=travelers-lapInfant-input]"},price:{source:"selector",value:"div span.total-price, span.price.option-text",type:"price",wait:!0}}}],getParseData:function(a,b){var c=this.findPartner(a,b);if(c){var d=c.detect.urlTemplates,e=c.wait,f=c.notFoundSelector,g=c.attributes,h=c.name,i=c.ajax;return{wait:e,notFoundSelector:f,selector:g,urlTemplates:d,ajax:i,whiteLabelName:h}}},findPartner:function(a,b){var c=void 0;return c=this.partners.find(function(b){return b.detect.urlTemplates[0]?new RegExp(b.detect.urlTemplates[0]).test(a):void 0}),c||(c=this.partners.find(function(a){return a.detect.selectors?a.detect.selectors.every(function(a){return!!b.querySelector(a)}):void 0})),c||(c=this.partners.find(function(b){return b.detect.queryParams?b.detect.queryParams.every(function(b){return!!d.getQueryParam(a,b)}):void 0})),c}};a.exports=e},,,function(a,b,c){"use strict";var d=c(8),e={"aliexpress.com":{H:function(a){if(a=a||[],a=a.filter(function(a){return"oem"!==a&&"new"!==a&&-1===a.indexOf("Другой")}),!a.length)return"";var b=/[а-яА-Я]/,c=a.filter(function(a){return!b.test(a)});return c.length?c[0]:a[0].indexOf("Яблоко")>-1||a[0].indexOf("яблоко")>-1?"Apple":a[0]},I:function(a,b){return this.H(a.filter(function(a){return b.test(a.innerHTML)}).map(function(a){return d.getTextContents(a.querySelector("dd")).toLowerCase()}))},getName:function(){var a="",b=/^(Фирменное\sнаименование)|(Производитель)|(>Brand)/,c=/(Model)|(моделирует)|(Модел)/,d=/(ПЗУ)|(ROM)/,e=[].slice.call(document.querySelectorAll("#product-desc .product-params .ui-box-body .ui-attr-list"));if(e&&e.length){var f=this.I(e,b),g=this.I(e,c),h=this.I(e,d);f&&g&&!g.match(/другой/i)&&(-1===g.indexOf(f)&&(a=f+" "),a+=g,h&&(/\dg$/.test(h)&&(h+="b"),a+=" "+h))}return a}},"videoigr.net":{getName:function(){var a=void 0,b=document.querySelector("tbody>tr>.pageHeading:nth-of-type(1) br"),c=document.querySelector("tbody>tr>.pageHeading:nth-of-type(1)");return a=b&&b.previousSibling.textContent,a||(a=c?d.getTextContents(c):""),a}}};a.exports=e},function(a,b){"use strict";var c=void 0;a.exports=c},function(a,b){"use strict";var c={isCORSSupported:function(){return!!this.J("https://yandex.ru","GET",!0)},J:function(a,b,c){var d=void 0;if("undefined"!=typeof XMLHttpRequest&&(d=new XMLHttpRequest),c)if("withCredentials"in d)try{d.open(b,a,!0),d.withCredentials=!0}catch(e){d=null}else d=null;else d.open(b,a,!0);return d},get:function(a,b,c,d){var e=void 0,f=b?-1===(a||"").indexOf("?")?"?":"&":"";b=b||{};var g=[];for(var h in b)b.hasOwnProperty(h)&&g.push(encodeURIComponent(h)+"="+encodeURIComponent(b[h]));f+=g.join("&");var i=this.J(a+f,"GET",!d);i||c&&c({error:"CORS not supported"}),i.onreadystatechange=function(){if(e){(new Date).getTime()-e}if(4===i.readyState)if(200===i.status)c&&c(JSON.parse(i.responseText));else{var a;if("number"==typeof i.status||"string"==typeof i.status?(a=i.status,"string"==typeof i.statusText&&(a+=" "+i.statusText)):a="Unknown code",i.responseText)try{var b=JSON.parse(i.responseText);return void(c&&c(b))}catch(d){}c&&c({error:"Error with XHR",errorMessage:a})}},e=(new Date).getTime(),i.send(null)},post:function(a,b,c,d){var e=this.J(a,"POST",!0)||this.J(a,"POST");e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),Object.keys(d||{}).forEach(function(a){e.setRequestHeader(a,d[a])}),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&c&&c(JSON.parse(e.responseText))},e.send(JSON.stringify(b))}};a.exports=c},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=(new Date).getTime();return b=b.toString(36),a+b+e.getRandomHash(24)}var e=c(8);a.exports=d},function(a,b){"use strict";var c={K:{apiHost:"%SOVETNIK_API_HOST%",storageHost:"%SOVETNIK_STORAGE_HOST%",settingsHost:"%SOVETNIK_SETTINGS_HOST%",staticHost:"%SOVETNIK_STORAGE_HOST%"},L:{apiHost:"https://sovetnik.market.yandex.ru",storageHost:"https://dl.metabar.ru",settingsHost:"https://sovetnik.market.yandex.ru",landingHost:"https://sovetnik.yandex.ru",staticHost:"https://yastatic.net"},M:function(a){return!/^%[^%]+%$/.test(a)},N:function(a){return this.K[a]&&this.M(this.K[a])?this.K[a]:this.L[a]},getApiHost:function(){return this.N("apiHost")},getStorageHost:function(){return this.N("storageHost")},getSettingsURL:function(){var a=this.N("settingsHost");return a===this.L.settingsHost?a+"/app/settings":a+"/sovetnik"},getSettingsURLMobile:function(){var a=this.N("settingsHost");return a===this.L.settingsHost?a+"/mobile/settings":a+"/sovetnik-mobile"},getSettingsHost:function(){return this.N("settingsHost")},getClientEventUrl:function(){return this.N("apiHost")+"/client"},getFeedbackEventUrl:function(){return this.N("apiHost")+"/feedback"},getAviaFeedbackEventUrl:function(){return this.N("apiHost")+"/feedback-avia"},getLandingHost:function(){return this.N("landingHost")},getDomainsJSONUrl:function(){var a=this.N("staticHost")===this.L.staticHost||this.N("staticHost")===this.L.storageHost;return a?this.L.staticHost+"/sovetnik/_/script-data/domains.json":this.N("staticHost")+"/static/script-data/domains.json"},getUninstallUrl:function(){return this.getLandingHost()+"/goodbye"},getCPAOnboardingTrackingUrl:function(){return this.getApiHost()+"/cpa-onboarding"}};a.exports=c},function(a,b){"use strict";var c=void 0;a.exports=c},function(a,b,c){"use strict";var d=c(13),e=c(12),f=c(29),g=c(23),h=c(30),i={init:function(a){return e.shouldUseIframeStorage()?f.init(a):g&&g.init?g.init():d.resolve()},get:function(a,b){return g?g.get(a):e.shouldUseIframeStorage()?f.get(a,b):d.resolve()},getSelector:function(a){return g?g.getSelector(a):e.shouldUseIframeStorage()?f.getSelector("key"):d.resolve()},loadSettings:function(){return g?g.loadSettings():e.shouldUseIframeStorage()?d.resolve({}):h.getSovetnikInfo()},canUseDomainData:function(){return g?d.resolve(!!g.getDomainData):d.resolve(!0)},getDomainData:function(a){return g&&g.getDomainData?g.getDomainData():e.shouldUseIframeStorage()?f.getDomainData(a):h.getDomainInfo(a)},set:function(a,b,c){var d=g||f;return d.set(a,b,c)},needSetYSCookie:function(){return g?!!g.get:!0},clear:function(){f&&f.clear()}};a.exports=i},function(a,b,c){"use strict";var d=c(13),e=c(26),f=c(20),g=c(12),h=c(10),i=c(8),j={listeners:{},messages:[],iframe:{},ready:!1,iframepath:"/static/storage/index.html",version:1,generateCookie:function(){return Math.round(9e6*Math.random())},sendMessage:function(a){this.iframe.postMessage(a,this.host),this.iframe.postMessage(JSON.stringify(a),this.host)},processMessages:function(){for(;this.messages.length;){var a=this.messages.pop();this.sendMessage(a)}},prepareMessage:function(a,b){var c=this.generateCookie();return a.cookie=c,this.listeners[c]=b,a},pullMessage:function(a){
var b=this,c=new d(function(c){return b.prepareMessage(a,c)});return this.messages.push(a),this.ready&&this.processMessages(),c},getVersion:function(){var a=this,b={type:"MBR_STORAGE",command:"get",key:"version"},c=new d(function(c){return a.prepareMessage(b,c)});return this.sendMessage(b),c},get:function(a,b){var c={type:"MBR_STORAGE",command:"get",key:a,session:b};return this.pullMessage(c)},set:function(a,b,c){var d={type:"MBR_STORAGE",command:"set",key:a,value:b,session:c};return this.pullMessage(d)},loadSettings:function(){var a=this;return this.init(e.getStorageHost()).then(function(){return a.version>1?a.O():a.P()})},P:function(){var a={type:"MBR_STORAGE",command:"loadSettings"};return this.pullMessage(a)},O:function(){return d.all([this.Q(),this.R()]).then(function(a){var b=a[0],c=a[1];for(var d in b)b.hasOwnProperty(d)&&!c.hasOwnProperty(d)&&(c[d]=b[d]);return c})},Q:function(){var a={type:"MBR_STORAGE",command:"loadPartnerSettings"};return this.pullMessage(a)},R:function(){var a={type:"MBR_STORAGE",command:"loadUserSettings"};return this.pullMessage(a)},saveSettings:function(a){var b={type:"MBR_STORAGE",command:"saveSettings",value:a};this.pullMessage(b)},getSelector:function(a){var b={type:"MBR_STORAGE",command:"getSelector",domain:a};return this.pullMessage(b)},getDomainData:function(a){for(var b=[];-1!==a.indexOf(".");)b.push(f(a).toString()),a=a.replace(/^[^\.]+\./,"");b.toJSON&&(b.toJSON=function(){return this.map(function(a){return a.toString()})});var c={type:"MBR_STORAGE",command:"getDomainInfo",domains:JSON.stringify(b)};return this.pullMessage(c)},canUseDomainData:function(){var a=this;return this.init(e.getStorageHost()).then(function(){return a.version>2})},getCookies:function(){var a={type:"MBR_STORAGE",command:"getCookies"};return this.pullMessage(a)},getLocalStorage:function(){var a={type:"MBR_STORAGE",command:"getLocalStorage"};return this.pullMessage(a)},test:function(){var a={type:"MBR_STORAGE",command:"testStorage"};return this.pullMessage(a)},listener:function(a){var b=void 0;if(a&&a.data){if("string"==typeof a.data)try{b=JSON.parse(a.data)}catch(c){return}else b=a.data;if(b.cookie&&"MBR_STORAGE"===b.type){var d=this.listeners[b.cookie];if(d){try{d(b.value)}catch(e){}delete this.listeners[b.cookie]}}b&&"MBR_SETTINGS"===b.type&&b.value&&(h("save settings"),g.isUniversalScript()&&g.applySettings(b.value))}},clear:function(){var a=!g.isOurSite(i.getHostname(document))&&!g.isYandexWebPartner()&&!g.needSendVersion();a&&(this.S&&this.S.parentNode&&this.S.parentNode.removeChild(this.S),this.readyPromise=!1)},init:function(a){var b=this;if(!this.readyPromise){var c=this;this.readyPromise=new d(function(b){c.host=a;var d=document.createElement("iframe");d.style.display="none",d.onload=function(){c.iframe=d.contentWindow,c.getVersion().then(function(a){a&&(c.version=a),c.ready=!0,c.messages.length&&c.processMessages(),b()})},d.src=c.host+c.iframepath+"?version="+g.getAppVersion(),c.S=d,document.body.appendChild(d),window.addEventListener?window.addEventListener("message",function(a){c.listener.call(c,a)},!0):window.attachEvent("onmessage",function(a){return c.listener.call(c,a)})})}return this.test().then(function(a){a||(b.clear(),g.clearPriceContextNodes())}),this.readyPromise}};a.exports=j},function(a,b,c){"use strict";var d=c(13),e=c(12),f=c(8),g=c(26),h=c(9),i=c(31),j={T:{},U:function(){return Math.round(9e6*Math.random())},V:function(a,b){var c=this;return new d(function(d,g){var h=c.U(),j=void 0;c.T[h]=function(a){clearTimeout(j),d(a)},i.trigger(JSON.stringify({type:"MBR_ENVIRONMENT",command:a,clid:e.getClid(),affId:e.getAffId(),listenerId:h,data:b}),f.getLocationOrigin()),"getDomainData"===a&&(j=setTimeout(g,3e3))})},W:function(a){if(a){var b=e.getClid(),c=e.getAffId();if("undefined"==typeof a.response)return!1;if(b){if(b!=a.clid)return!1}else if(c&&c!=a.affId)return!1;return!0}},X:function(a){var b=a.data;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return null}return b},Y:function(a){if(this.isSettingsPage&&a&&a.data){var b=this.X(a);if(this.W(b)){var c=b.type,d=b.domain;c&&d&&("removeDomain"===c?this.Z(d):"addDomain"===c&&this.$(d))}}},_:function(a){if(a&&a.data){var b=this.X(a);this.W(b)&&b.listenerId&&this.T[b.listenerId]&&this.T[b.listenerId](b.response)}},aa:function(){this.V("serverMessage",{type:"secondScript"})},ba:function(){this.V("serverMessage",{type:"userAgreementChanged"})},$:function(){var a=arguments.length<=0||void 0===arguments[0]?document.domain:arguments[0];this.V("serverMessage",{type:"domainDisabled",domain:a})},Z:function(a){this.V("serverMessage",{type:"domainEnabled",domain:a})},ca:function(){this.V("showSettingsPage")},getDomainInfo:function(a){return this.V("getDomainData",{domain:a})["catch"](function(a){h.trigger("post-message-error",!1)})},getSovetnikInfo:function(){return this.V("getSovetnikInfo")},da:function(a){this.V("showNotification",a)},ea:function(a){var b=a.action;this.V("clearNotification",b)},fa:function(a){return this.V("sovetnikProductResponse",a)},init:function(){var a=this,b=f.getLocationOrigin();this.isSettingsPage=g.getSettingsHost()===b,h.on("script:secondScript",function(b){return a.aa(b)}),h.on("script:offer",function(){return a.ba()}),h.on("script:domainDisabled",function(b){return a.$(b)}),h.on("pricebar:settingsPage",function(b){return a.ca(b)}),h.on("pricebar:notification",function(b){return a.da(b)}),h.on("notification:clear",function(b){return a.ea(b)}),h.on("suggest:productOfferFound",function(b){return a.fa(b)}),i.on(function(b){return a._(b)}),i.on(function(b){return a.Y(b)},!0),i.trigger(JSON.stringify({type:"MBR_ENVIRONMENT"}),b,!0)}};a.exports=j},function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];window.svtPostMessage&&!b?window.svtPostMessage.on(a):window.addEventListener?window.addEventListener("message",a):window.attachEvent("onmessage",a)}function e(a){var b=a.data;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){b=null}return b}function f(a){var b=e(a);return b&&"MBR_ENVIRONMENT"===b.type}function g(a){var b=e(a);return b&&"getDomainData"===b.command}function h(){clearTimeout(k),MessageEvent.prototype.stopImmediatePropagation=function(){f(this)?g(this)&&j.trigger("post-message-error",!0):l.call(this)},k=setTimeout(function(){MessageEvent.prototype.stopImmediatePropagation=l},1500)}function i(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];window.svtPostMessage&&!c?window.svtPostMessage.trigger(a):window.wrappedJSObject&&window.wrappedJSObject.postMessage?window.wrappedJSObject.postMessage(a,b):(h(),window.postMessage(a,b))}var j=c(9),k=void 0,l=MessageEvent.prototype.stopImmediatePropagation;a.exports={on:d,trigger:i}},function(a,b){"use strict";var c={tests:[],getModificators:function(a){a=a||{};var b=[];this.tests.forEach(function(b){for(var c in b.match)b.match.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]="original")});for(var c in a)a.hasOwnProperty(c)&&b.push(c+"_"+a[c]);return b}};a.exports=c},function(a,b,c){"use strict";var d={desktop:{Footer:c(34),ModelLinks:c(39),ModelInfo:c(40),ModelOffers:c(41),SearchResult:c(37),NotFound:c(42),Clothes:c(43),SimilarModels:c(36),Accessories:c(44),SearchInfo:c(45),InfoPopup:c(46),SettingsPopup:c(48),OptOut:c(49),YaBroOptOut:c(50),AdultPopup:c(51),Tabs:c(52),Pricebar:c(53)},avia:{PopupHeader:c(54),PopupFlights:c(55),InfoUrls:c(56)}};a.exports=d},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(35),g=c(36),h=c(37),i=c(38),j=function(){function a(b,c){d(this,a),this.footerLinks=new f(b);var e=!c.popupWithTabs&&!g.canParse(b)&&!h.canParse(b)&&i.canParse(b);e&&(this.shopInfo=new i(b))}return e(a,null,[{key:"canParse",value:function(a){return f.canParse(a)}}]),a}();a.exports=j},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(26),g=function(){function a(b){d(this,a),this.urls={market:b.searchInfo.urls.market,settings:f.getSettingsURL()},b.searchInfo.urls.shopsInfo&&(this.urls.shopsInfo=b.searchInfo.urls.shopsInfo),b.settings&&(this.location={},this.location.name=b.settings.region)}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.searchInfo&&a.searchInfo.urls)}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b,c){d(this,a);var e={},g=c.isButton;return e.models=b.similarModels.map(function(a){var b={},c=a.name,d=a.vendor,e=a.rating,h=a.prices,i=h.offer,j=h.curName,k=a.photo,l=a.isNew,m=a.urls,n=m.offer,o=m.offerButton,p=m.offerPicture,q=m.shopReviews,r=a.shop,s=a.delivery,t=a.cpa;return d&&0!==c.indexOf(d)?b.caption=d+" "+c:b.caption=c,b.rating=e,b.ratingText=f.ratingText(e),b.ratingTooltipText="Рейтинг товара "+e+" из 5",b.priceText=f.formatPrice(i,j),b.photo=k,b.isNew=l,b.urls={offer:n,button:o,picture:p,shopReviews:q},b.shop={name:r.name,rating:r.rating,gradeText:f.getGradeText(r.gradeTotal)},b.delivery=s,b.delivery.price&&(b.delivery.price.valueText=b.delivery.price.value.toString()),b.renderData={sizeMini:g},b.cpa=t,b}),c.popupWithTabs&&(e.renderData={noSubtitle:!0}),e}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.similarModels&&a.similarModels.length)}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(26),g=c(8),h=function(){function a(b,c){d(this,a);var e=function(a){var b=a.discount?12:20,c=a.valueText+" "+a.currencyName;return c.length>b},f=b.searchResult||b.offers.filter(function(a){return"price-list"===a.target}).map(function(a){return Object.assign({isOffer:!0},a)}),h=f.map(function(b){var c={};if(c.photo=b.photo||a.photoStub,b.vendor&&0!==b.name.indexOf(b.vendor)?c.caption=b.vendor+" "+b.name:c.caption=b.name,b.isNew&&(c.isNew=!0),b.isOffer){c.isOffer=!0,c.url=b.url,c.buttonUrl=b.buttonUrl,b.cpa&&(c.cpa=!0),b.age&&(c.age=parseInt(b.age,10),c.needShowAgeBadge=!0);var d=b.shopInfo;c.shop={name:d.name,rating:Math.max(d.rating,0),gradeText:g.getGradeText(d.gradeTotal)};var f=b.price;c.price={valueText:g.formatPrice(f.value),currencyName:f.currencyName},f.discount&&(c.discount=f.discount,c.baseText=g.formatPrice(f.base));var h=b.alternatePrice;h&&(c.alternate={valueText:g.formatPrice(h.value),currencyName:h.currencyName});var i=b.delivery;c.delivery=g.removeUndefined({brief:i.brief,alternateBrief:i.alternateBrief,free:i.free,delivery:i.delivery,from:i.from}),i.price&&(c.delivery.price={valueText:g.formatPrice(i.price.value),currencyName:i.price.currencyName}),b.warning&&(c.disclaimer=b.warning),b.withLongPrice||(c.withLongPrice=e(c.price))}return c}),i=b.searchResultCaption;return{searchItems:h,searchResultCaption:i}}return e(a,null,[{key:"canParse",value:function(a){return!(!a||!(Array.isArray(a.searchResult)&&a.searchResult.length||Array.isArray(a.offers)&&a.offers.length))}},{key:"photoStub",get:function(){return f.getStorageHost()+"/static/images/no-photo-stub.svg"}}]),a}();a.exports=h},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b){d(this,a),this.name=b.shopInfo.shopName,this.url=b.shopInfo.url,this.rating=b.shopInfo.rating,this.gradeTotal=b.shopInfo.gradeTotal,this.gradeTotalText=f.getGradeText(b.shopInfo.gradeTotal)}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.shopInfo&&a.searchInfo.offersCount>0)}}]),a}();a.exports=g},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a);var e=b.model,f=e.urls,g=e.offersCount,h=e.outletsCount,i=e.reviewsCount;this.urls={offers:f.offers,map:f.map,reviews:f.reviews},this.offersCount=g||0,this.outletsCount=h||0,this.reviewsCount=i||0}return d(a,null,[{key:"canParse",value:function(a){return!!(a&&a.model&&a.model.urls&&a.model.urls.offers&&a.model.urls.map&&a.model.urls.reviews)}}]),a}();a.exports=e},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b,c){d(this,a);var e=function(a){return!isNaN(parseFloat(a))&&isFinite(a)&&a>0},g=b.model,h=g.prices,i=h.curCode,j=h.curName,k=h.max,l=h.min,m=h.avg,n=g.name,o=g.vendor,p=g.rating,q=g.photo,r=g.urls,s=r.model,t=r.modelPicture,u=r.price,v=r.reviewsBadge,w=g.warning;if(o&&0!==n.indexOf(o)?this.caption=o+" "+n:this.caption=n,e(m)&&e(k)&&e(l)&&(this.prices={curCode:i,curName:j,max:f.formatPrice(k),min:f.formatPrice(l),avg:f.formatPrice(m)}),this.urls={model:s,modelPicture:t,price:u,reviewsBadge:v},this.rating=p||0,p&&(this.ratingText=f.ratingText(this.rating),this.ratingTooltipText="Рейтинг товара "+p+" из 5"),q&&(this.photo=q),Array.isArray(b.offers)){var x=b.offers.reduce(function(a,b){return a||b.warning},null);x&&(this.disclaimer=x)}else this.disclaimer=w||"";c.popupWithTabs&&(this.renderData={noDivider:!0})}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.model&&(a.offers&&a.offers.length||a.similarModels&&a.similarModels.length))}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.ga=b)}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=c(8),i=function(a){function b(a,c){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this);var e=!1,f=!1,i=a.offers.filter(function(a){return"price-list"===a.target}).map(function(a){var b={url:a.url,buttonUrl:a.buttonUrl,cpa:a.cpa,shop:{name:a.shopInfo.name,rating:a.shopInfo.rating,gradeTotal:h.getGradeText(a.shopInfo.gradeTotal)},price:{value:h.formatPrice(a.price.value),currencyName:a.price.currencyName},delivery:{free:a.delivery.free,delivery:a.delivery.delivery,brief:a.delivery.brief}};if(c.popupWithTabs&&!c.isButton&&(b.renderData={big:!0}),a.price.discount&&(b.price.discount=a.price.discount,b.price.base=h.formatPrice(a.price.base)),a.delivery.price&&(b.delivery.price={value:h.formatPrice(a.delivery.price.value),currencyName:a.delivery.price.currencyName}),a.delivery.from&&(b.delivery.from=a.delivery.from),a.age&&(b.age=parseInt(a.age).toString(),e=!0),!f){var d=b.price.discount?12:20,g=b.price.value+" "+b.price.currencyName;f=g.length>d}return h.removeUndefined(b)});i=i.map(function(a){return e&&(a.needShowAgeBadge=!0),f&&(a.withLongPrice=!0),a});var j={offers:i.slice(0,6)};return c.popupWithTabs&&!c.isButton&&(j.renderData={big:!0}),j}return e(b,a),f(b,null,[{key:"canParse",value:function(a){return!!(a&&a.model&&a.offers&&a.offers.length)}}]),b}(Array);a.exports=i},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a);var e=b.searchInfo;e.categories&&(this.relevantCategories=e.categories.reduce(function(a,b){var c=b.name,d=b.url;return a.push({name:c,url:d}),a},[]))}return d(a,null,[{key:"canParse",value:function(a){return!(!a||!a.searchInfo)}}]),a}();a.exports=e},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b,c){d(this,a);var e=b.offers,g=b.searchInfo;if(e&&e.length){var h=0,i=void 0;i=b.offers.map(function(a){return a.priceText=f.formatPrice(a.price.value,a.price.currencyName||"","от"),a.price.base&&(a.oldPriceText=f.formatPrice(a.price.base,a.price.currencyName||"","от")),a.alternatePrice&&(a.alternatePriceText=f.formatPrice(a.alternatePrice.value,a.alternatePrice.currencyName||"","от")),a}),h=f.reduce(i,function(a,b){var c=parseInt(b.price.discount,10);return c>a?c:a},0),this.clothesList={clothes:i,url:g.urls.searchButton},this.maxDiscount=h,this.offersCount=g.offersCount,g.category&&(this.visualCategoryHeader={title:g.category.name,url:g.category.url})}}return e(a,null,[{key:"canParse",value:function(a){return!!(a.offers&&a.offers.length&&a.offers[0].price&&"clothes-list"===a.offers[0].target)}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b,c){d(this,a);var e={},g=c.isButton;return e.models=b.accessories.map(function(a){var b={},c=a.name,d=a.vendor,e=a.rating,h=a.prices,i=h.offer,j=h.curName,k=a.photo,l=a.isNew,m=a.urls,n=m.offer,o=m.offerButton,p=m.offerPicture,q=m.shopReviews,r=a.shop,s=a.delivery;return d&&0!==c.indexOf(d)?b.caption=d+" "+c:b.caption=c,b.rating=e,b.ratingText=f.ratingText(e),b.ratingTooltipText="Рейтинг товара "+e+" из 5",b.priceText=f.formatPrice(i,j),b.photo=k,b.isNew=l,b.urls={offer:n,button:o,picture:p,shopReviews:q},b.shop={name:r.name,rating:r.rating,gradeText:f.getGradeText(r.gradeTotal)},b.delivery=s,b.delivery.price&&(b.delivery.price.valueText=b.delivery.price.value.toString()),b.renderData={sizeMini:g},b}),c.popupWithTabs&&(e.renderData={noSubtitle:!0}),e}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.accessories&&a.accessories.length)}}]),a}();a.exports=g},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a),this.ha={};var e=b.searchInfo.urls,f=(e.shopsInfo,e.market,e.search),g=e.searchButton;e.prices,e.eula,e.feedback,e.help,e.helpPhone,e.helpTablet;return this.ha.searchButtonUrl=g,this.ha.searchUrl=f,this.ha}return d(a,null,[{key:"canParse",value:function(a){return!(!a||!a.searchInfo)}}]),a}();a.exports=e},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(47),g=function(){function a(b,c){d(this,a);var e=b.searchInfo,g=b.settings,h=g.applicationName,i=g.isMbrApplication;this.type="product",this.constants={text:"Это приложение подсказывает вам более выгодные цены на\nтовары, на которые вы смотрите прямо сейчас.",helpText:"Помощь",feedbackText:"Обратная связь",yandexLLC:"© "+f+" ООО «Яндекс.Маркет»",licenseText:"Лицензионное соглашение",disableText:"Как отключить Советника",featuresText:"Что ещё умеет Советник"},this.applicationName={upperLine:"Яндекс.Советник"},i||(this.applicationName.bottomLine={prefix:"для ",partnerName:h}),this.urls={eula:e.urls.eula,feedback:e.urls.feedback,help:e.urls.help,disable:e.urls.disable,features:e.urls.features}}return e(a,null,[{key:"canParse",value:function(a){return a&&a.searchInfo&&a.settings}}]),a}();a.exports=g},function(a,b){"use strict";var c=new Date(Date.now()),d=c.getFullYear();a.exports=d},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(26),g=function(){function a(b,c){d(this,a);var e=b.settings;this.items=e.items,this.location=e.region,this.urls={settings:f.getSettingsURL(),disableDomain:f.getSettingsURL()+"#domain="+document.domain}}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.settings&&a.settings.items&&a.settings.items.length)}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(12),g=c(26),h=function(){function a(b,c){d(this,a);var e=b.searchInfo.urls.eula,h=b.optOutInfo,i=h.shopUrl,j=h.shopName,k=h.economyText,l=b.settings,m=l.applicationName,n=l.optOutTitle,o=l.optOutImage,p=l.optOutNotAcceptByDefault;return{applicationName:m,title:n||m,image:f.getOptInImage()||g.getStorageHost()+"/static/images/"+o,urls:{eula:e},optOutNotAcceptByDefault:p,shopUrl:i,shopName:j,economyText:k}}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.searchInfo&&a.searchInfo.urls&&a.settings&&a.settings.needShowOptIn&&a.optOutInfo&&1004!=f.getAffId())}}]),a}();a.exports=h},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(12),g=(c(26),c(11)),h={product:"Советник автоматически сравнивает цены в интернет-магазинах на интересующие вас товары и помогает покупать дешевле.",avia:"Советник сравнит интересующий вас перелёт с предложениями других авиакомпаний и агентств и поможет купить дешевле."},i=function(){function a(b,c){d(this,a);var e=c.type;return{os:g.isMacBrowser()?"osx":"win",icon:"avia"===e?"avia":"market",constants:{title:"Яндекс.Советник",text:h[e],footer:{disable:"Отключить Советника можно в ",settings:"настройках"}},buttons:{action:{text:"Ок, спасибо"}}}}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.settings&&a.settings.needShowOptIn&&1004==f.getAffId())}}]),a}();a.exports=i},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a);var e=b.settings,f=e.applicationName,g=e.isMbrApplication;return g?{}:{applicationName:f}}return d(a,null,[{key:"canParse",value:function(a){return!!(a&&a.settings&&a.settings.needShowAdultOptIn)}}]),a}();a.exports=e},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a);var e=[{name:"Предложения магазинов",active:!0,targetTabName:"offers-list"}];return b.similarModels&&b.similarModels.length&&e.push({name:"Вам также могут понравиться",targetTabName:"similar-models-list"}),b.accessories&&b.accessories.length&&e.push({name:"Подойдёт к этой покупке",targetTabName:"accessories-list"}),{tabs:e}}return d(a,null,[{key:"canParse",value:function(a){return!!(a&&a.model&&a.offers)}}]),a}();a.exports=e},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(b,c){d(this,a),this.ia=b,this.ja=c,this.ka=this.getPricebarType(),this.la=this.getMainOffer(),this.ma=this.comparePrice(),this.na=c.isClassified;var e=b.settings,g={};return g.constants=this.getConstants(),g.buttons=this.getButtons(),g=f.mixin(g,this.getProductNameInfo(),this.getPriceAndShopInfo(),this.getDeliveryInfo(),this.getDisclaimerInfo(),this.getAgeBadgeInfo()),e&&e.needShowOptIn&&e.optOutNotAcceptByDefault||(g.canRedirectToOffer=!0),f.removeUndefined(g)}return e(a,[{key:"getPricebarType",value:function(){var a=this.ia,b=a.offers,c=a.similarModels;return b&&b.length?"offers":c&&c.length?"similar":void 0}},{key:"getMainOffer",value:function(){var a=this.ia.offers;return"offers"===this.ka?a&&a[0]:void 0}},{key:"comparePrice",value:function(){var a=this.ia.searchInfo;if(a.convertedPrice&&this.la&&this.la.price&&!a.doNotComparePrice){var b=Math.round(parseFloat(this.la.price.value));return b>=a.convertedPrice.value?"higherThanOnPage":"lowerThanOnPage"}return"unknown"}},{key:"getDeliveryInfo",value:function(){var a={};if("similar"!==this.ka&&("higherThanOnPage"!==this.ma||this.na)){var b=this.la.delivery,c=void 0,d=void 0;return b&&(a.needShowDelivery=!0,d=b.brief,c=b.free?"бесплатно":b.price?f.formatPrice(b.price.value,b.price.currencyName||""):b.from?b.from:"не производится"),a.deliveryText=c,a.deliveryTooltip=d,a}}},{key:"getDisclaimerInfo",value:function(){var a={};return this.la&&(a.warning=this.la.warning),a}},{key:"getAgeBadgeInfo",value:function(){var a={};return this.la&&"undefined"!=typeof this.la.age&&(a.needShowAge=!0,a.age=parseInt(this.la.age,10)),a}},{key:"getProductNameInfo",value:function(){var a=this.ia.model,b={};if(a){var c=a.name;a.vendor&&0!==c.indexOf(a.vendor)&&(c=a.vendor+" "+c),b.originalProductName=c,b.needBoldProductName=!0}else this.la&&(b.originalProductName=this.la.name);return b.productName=b.originalProductName,b.productName&&b.productName.length>64&&(b.productName=b.productName.substr(0,64)+"..."),b}},{key:"getPriceAndShopInfo",value:function(){var a={};return a.notClickable=!(this.la&&"higherThanOnPage"!==this.ma||this.na),"offers"===this.ka&&("higherThanOnPage"!==this.ma||this.na?(a.needShowShop=!0,a.needShowPrice=!0,a.priceText=f.formatPrice(this.la.price.value,this.la.price.currencyName||""),a.shopName=this.la.shopInfo&&this.la.shopInfo.name,a.minPriceUrl=this.la.url,a.minPriceUrlSurface=this.la.surfaceUrl):a.needShowByPartnerDisclaimer=!0),a}},{key:"getConstants",value:function(){var a={infoButtonTooltip:"О программе",settingsButtonTooltip:"Настройки",closeButtonTooltip:"Закрыть"};return"offers"===this.ka?("lowerThanOnPage"===this.ma?(a.prevText="Более выгодная цена на",a.inShopText="в магазине",a.goButtonText="Посмотреть",a.goButtonTooltip="Посмотреть"):"higherThanOnPage"===this.ma?this.na?(a.prevText="Цена на новый",a.inShopText="в магазине",a.goButtonText="Посмотреть",a.goButtonTooltip="Посмотреть"):(a.prevText="На этой странице самая низкая цена на",a.byPartnerDisclaimer="по данным Яндекс.Маркета"):"unknown"===this.ma&&(a.prevText="Цена на Яндекс.Маркете на",a.inShopText="в магазине",a.goButtonText="Посмотреть",a.goButtonTooltip="Посмотреть"),a.moreButtonText="Еще предложения",a.moreButtonTooltip="Предложения других магазинов"):"similar"===this.ka&&(a.afterText="не продается на Яндекс.Маркете в вашем регионе",a.moreButtonText="Похожие товары",a.moreButtonTooltip="Похожие товары"),a}},{key:"getButtons",value:function(){var a={more:!0,info:!0,settings:!0,close:!0};return"offers"!==this.ka||"higherThanOnPage"===this.ma&&!this.na||(a.go=!0),a}}],[{key:"canParse",value:function(a){return!(!a||!a.offers&&!a.similarModels)}}]),a}();a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=(c(8),function(){function a(b){d(this,a);var c=b.depart,e=b.arrive,f=b.departDate,g=b.returnDate,h=b.passengers,i=h.passengerText,j=h.adultText,k=h.childText,l=h.infantText;this.depart=c,this.arrive=e,this.departDate=f.text,b.returnDate&&(this.returnDate=g.text),this.passengersText=i,this.adultText=j,this.childText=k,this.infantText=l}return e(a,null,[{key:"canParse",value:function(a){return!!(a&&a.depart&&a.arrive&&a.departDate&&a.passengers)}}]),a}());a.exports=f},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){
c(this,a);var d=b.flights,e=b.flightsCount;this.flights=d,this.flightsCount=e}return d(a,null,[{key:"canParse",value:function(a){return!!(a&&a.flights&&a.flights.length)}}]),a}();a.exports=e},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a);var d=b.searchInfo.urls;this.avia=d.avia,this.eula=d.eula,this.feedback=d.feedback,this.help=d.help}return d(a,null,[{key:"canParse",value:function(a){return!!(a&&a.searchInfo&&a.searchInfo.urls)}}]),a}();a.exports=e},function(a,b,c){"use strict";var d=c(58);chrome.runtime.setUninstallURL&&d.getUninstallUrl().then(function(a){a?chrome.runtime.setUninstallURL(a):chrome.runtime.setUninstallURL("")})},function(b,c,d){"use strict";var e=d(59),f=d(61),g=d(62),h=(d(26),d(64)),i=864e5,j=864e5,k=e.get("sovetnikRemoved");k&&(k=JSON.parse(k));var l=e.get("secondScript"),m=e.get("userSettings"),n=a;l=l?parseInt(l,10):0;var o=Date.now()-l<i;n.affId=n.affId||1,n.extensionStorage=!0,m=m?JSON.parse(m):{};for(var p in m)m.hasOwnProperty(p)&&(n[p]=m[p]);var q=e.get("yandex.statistics.clid.21"),r=e.get("sovetnik.aff_id"),s=e.get("sovetnik.install_time"),t=e.get("sovetnik.install_id");q||(q=e.get("sovetnik.yandex.statistics.clid.21")),q&&(q=q.replace(/[^\d\-]/g,""),n.clid=q),r&&(n.affId=r),s&&(n.installTime=s),t&&(n.installId=t),g&&g.getAvailabilityStatus(function(a,b){n.notificationStatus=a,n.notificationPermissionGranted=b}),"chrome"===n.browser&&(window.navigator.userAgent.indexOf("OPR")>-1||window.navigator.userAgent.indexOf("Opera")>-1)&&(n.browser="opera");var u=e.get("userAgreementStatus"),v=e.get("userAgreementCheckTime");(!v||Date.now()-parseInt(v,10)>j)&&(u="unknown",e.set("userAgreementStatus","unknown"),h.getUserAgreementStatus(n.clid,function(a){a&&x.setUserAgreementStatus(a)}));var w=[],x={userAgreementStatus:u,isSecondScript:o,isSovetnikRemoved:k,withButton:n.withButton,settings:n,url:"undefined"!=typeof SCRIPT_URL?SCRIPT_URL:"",setCustomSettingsPage:function(a){n.customSettingsPage=!0,f.addCustomFunc(a)},setUserAgreementStatus:function(a){this.userAgreementStatus=a,e.set("userAgreementStatus",a),e.set("userAgreementCheckTime",Date.now())},setSovetnikRemovedState:function(a){this.isSovetnikRemoved=a,e.set("sovetnikRemoved",JSON.stringify(a))},setSecondScript:function(){this.isSecondScript=!0,e.set("secondScript",JSON.stringify(Date.now()))},setUserSetting:function(a,b){n[a]=b,m[a]=b,e.set("userSettings",JSON.stringify(m)),w.forEach(function(a){try{a()}catch(b){}})},onUserSettingChanged:function(a){w.push(a)},setFromPpFlag:function(a){e.set("sovetnik.from_pp_flag",a)},setClid:function(a){this.settings.clid=a,e.set("yandex.statistics.clid.21",a)},setAffId:function(a){this.settings.affId=a,e.set("sovetnik.aff_id",a)},setInstallId:function(a){this.settings.installId=a,e.set("sovetnik.install_id",a)},setInstallTime:function(a){this.settings.installTime=a,e.set("sovetnik.install_time",a)},isSovetnikExtension:function(){return!!n.sovetnikExtension},getUninstallUrl:function(){var a=(arguments.length<=0||void 0===arguments[0]?"app-remove":arguments[0],d(70));return a().then(function(a){if(a&&a.uninstall){var b=["clid="+n.clid,"aff_id="+n.affId,"install_id="+n.installId,"install_time="+n.installTime,"disabling_type=app-remove"].join("&");return a.uninstall+"?"+b}})},onNotificationPermissionChanged:function(a){a?n.notificationPermissionGranted=!0:(delete n.notificationStatus,delete n.notificationPermissionGranted)},isStatsEnabled:function(){return!n.statsDisabled},isUserAgreementRejected:function(){return"rejected"===this.userAgreementStatus}};b.exports=x},function(a,b,c){"use strict";var d=void 0;d=c(60),a.exports=d},function(b,c){"use strict";var d=a.sovetnikExtension?"":"sovetnik",e={get:function(a){return a=d+a,localStorage.getItem(a)},set:function(a,b){a=d+a,localStorage.setItem(a,b)}};b.exports=e},function(a,b){"use strict";var c={oa:null,addCustomFunc:function(a){this.oa=a},open:function(){this.oa&&this.oa()}};a.exports=c},function(a,b,c){"use strict";var d=void 0;d=c(63),a.exports=d},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){var a=parseInt(o.get(v),10)||0,b=f();return Date.now()-a>b}function f(){var a=parseInt(o.get(u),10)||0,b={0:0,1:3,2:7,3:30};return"undefined"==typeof b[a]&&(b[a]=30),24*b[a]*60*60*1e3}function g(a,b){var d=this;return y?h(a,b):chrome.permissions?void chrome.permissions.request({permissions:["notifications"]},function(e){var f={transaction_id:d.transactionId,interaction:"notification_permission",interaction_details:e?"granted":"denied",type_view:"notification",url:d.url};m.sendSovetnikStats(f);var g=c(58);g.onNotificationPermissionChanged(e),o.set(v,Date.now());var i=parseInt(o.get(u),10)||0;o.set(u,i+1),e&&(k(),h(a,b))}):(k(),void h(a,b))}function h(a,b){var c=a.title,d=a.text,e=a.icon,f=a.link,g=a.contextMessage,h=a.mainPhoto,i=a.buttons,j=a.transactionId,k=a.time,l=a.url,m=a.duration,o=a.requireInteraction,p=h?"image":"basic",s={type:p,title:c,message:d,isClickable:!0};(h&&!q||!e)&&(h&&!q&&(s.imageUrl=h),e=r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAb5JREFUWAntVb1KA0EQnrkkJ1FT2qVQ0gh2IghWplAj8Q3S5wGSQrBK6W8KRdDU6a7QSERDev/eIaBoIb5AMJqMs8FAuCx3u9wKBu5guduZ7+b7duZmDiC8wgyMSQZQpjNbuCWZPWZPzF3upp9lvqA2SydAt/O1qoPXwWoJAaQ/EyItzfBJssXGAxAt920IL9dHmdlhv6lnXyFbxUaOiKqmCEWc63JmhNe3NPFE0gGEd5NCZLF8hTilhQ4SnsleNmnzFSLI4hH7HBE6JondsZSEOAdpLg067pdN7pWE9AkjdGyS2B1LWUh9P/MEiI/uAKb2ykIEIffcSVBiRHyVxdASEriVEb+BcC+wEN1W5k7rcTnvEK3tSNSen0nYiXp5/VQmJCozetlEK7d7nztEYMtwCNjmf1KTCGsxhPrF4caHDOe2jYxaN0C257Ff5bGfG/i47oKsLsgnk9NNp7DSHvhU79oZ6QfmVsYuLPFzzbKsq8WptftSCXuqpCFurDKg/LGmUqlNPlnl93T5Vqt143VSXbzOQKtwpyTFGhLkpUULryPEizSwT0dInufFm1jMmldg1sUrhAwhYQb+QQZ+AGEtdj7ypn8ZAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAqdJREFUeAHt2s0uA1EcBfD/tNWS+GiJRheIDYJEbHykg1gJYecFPIMlS0s2HsDOG9hYaZNuLFiwEixEojshdgjm3oSEdIw60vtvciaRtL1zxp3fnKujeG/BJtz+LBD7c5JBK0BAsAgEJCAoAMbZQAKCAmCcDSQgKADG2UACggJgnA0kICgAxtlAAoICYJwNJCAoAMbZQAKCAmCcDSQgKADG2UACggJgnA0kICgAxtlAAoICYJwNBAETYL7q+NLaQcXM7sasZDONFcc0v6imgWeXd5qdQuemB/CqPgE9l//etrZzJOfX9/bqZtubZHd9JvRKax1wClg4KcvW3um/2uxvz//r8aIO5nQJ+6NdkmlNRc1R9bhTwETck8WpbtVAUZNzCmgmtxAANiScTyPKKXTc+czTLUkxS7leN+eABm55uqde/UQFYH93mwz0pusSUQWgbaGPt7Az01Tzi6AGEL2licdjsjLXV3PAmn+YEHaGH7c0eweXYbt8eT0W8+yynxzOyuRI1n4Q4eLd3OlvIl9Egif3j0+yulmU55fX70P2eaohLmMDHTIRoI0PdUpbc7LifrV8UU0DzUl/3NIcHt9+GqRbUhbLoBm8pLJ7RlWARs3c0lzcPNhladAGg3dnz/v0VPdA1RJWp/OLCal5F/7FXFXuQkDwsqgALBaL4vu+/TKPo7Zq9486HjKu4megwSuXy/Y8crmclEqlH8+p2v1/PBg4qKKB4Dm4jZu/ibjeCoXCWz6ft1/mcdRW7f5Rx0PGVSxhtxXCvjuXMOan4/NA8BycxtlAkJ+ABAQFwDgbSEBQAIyzgQQEBcA4G0hAUACMs4EEBAXAOBtIQFAAjLOBBAQFwDgbSEBQAIyzgQQEBcA4G0hAUACMs4EEBAXAOBtIQFAAjL8DeaaYIEw40ZwAAAAASUVORK5CYII="),g&&(s.contextMessage=g),k&&(s.eventTime=k),o&&(s.requireInteraction=!0),s.iconUrl=e,i&&i.length&&!q&&(s.buttons=i.map(function(a){return{title:a.title}})),b&&b.tabId&&n.getActiveTabId(function(a){var c=new z(f,i,j,l,s,b.tabId,m);w[b.tabId]=c,a===b.tabId&&c.show()})}function i(a){x&&(x.wasCleared=!0),chrome.notifications.clear(z.notificationId,function(b){if(b&&x){var d=c(58),e={transaction_id:x.transactionId,interaction:"notification_clear",interaction_details:a,type_view:"notification",settings:d.settings,url:x.url};s||m.sendSovetnikStats(e),x.clear()}})}function j(a){if(!chrome.permissions){var b=s&&"firefox"||"unknown";return void a(b,!!chrome.notifications)}chrome.permissions.contains({permissions:["notifications"]},function(b){var c=void 0,d=void 0;b?(d=!0,c=r?"yandex":q?"opera":s?"firefox":"chrome"):e()&&(c=r?"yandex":q?"opera":s?"firefox":"chrome",d=!1),a(c,d)})}function k(){y||(y=!0,chrome.notifications.onClicked.addListener(function(a){a===z.notificationId&&x&&x.onClicked()}),chrome.notifications.onButtonClicked.addListener(function(a,b){a===z.notificationId&&x&&x.onButtonClicked(b)}),chrome.notifications.onClosed.addListener(function(a,b){a===z.notificationId&&(b=s&&!t?!1:b,b&&x&&x.onClosed(b))}),chrome.tabs.onActivated.addListener(function(a){var b=a.tabId;i("switch_tab"),w[b]&&w[b].show()}),chrome.windows.onFocusChanged.addListener(function(){n.getActiveTabId(function(a){w[a]&&w[a].show()})}),chrome.tabs.onUpdated.addListener(function(a,b){b.title&&(w[a]&&w[a].removeFromQueue(),x&&x.tabId===a&&i("update_tab"))}))}var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=c(64),n=c(5),o=c(60),p=c(12),q=window.navigator.userAgent.indexOf("OPR")>-1||window.navigator.userAgent.indexOf("Opera")>-1,r=-1!==window.navigator.userAgent.indexOf("YaBrowser"),s=-1!==window.navigator.userAgent.indexOf("Firefox"),t=window.navigator.platform&&0===window.navigator.platform.indexOf("Win"),u="notification-permission-requests",v="last-notification-request",w={},x=void 0,y=!1,z=function(){function a(b,c,e,f,g,h,i){d(this,a),this.link=b,this.buttons=c,this.transactionId=e,this.url=f,this.notificationData=g,this.tabId=h,this.duration=i,h&&(this.removeFromQueueTimeout=setTimeout(this.removeFromQueue.bind(this),6e5))}return l(a,[{key:"clear",value:function(b){this.durationTimeout&&clearTimeout(this.durationTimeout),this.removeFromQueue(),chrome.notifications.clear(a.notificationId,function(a){"function"==typeof b&&b(a),x=void 0})}},{key:"show",value:function(){var b=this;this.removeFromQueue(),chrome.notifications.create(a.notificationId,this.notificationData,function(){x=b,x.start=Date.now(),b.duration&&b.notificationData.requireInteraction&&(b.durationTimeout=setTimeout(function(){b.clear(function(a){if(a){var d=c(58),e={transaction_id:b.transactionId,interaction:"notification_clear",interaction_details:"duration_timeout",type_view:"notification",v:p.getAppVersion(),settings:d.settings,url:b.url};s||m.sendSovetnikStats(e)}})},parseInt(b.duration,10))),b.onShown()})}},{key:"onClosed",value:function(a){var b=this;this.clear(function(){a&&!b.pa&&!function(){var a=c(58);j(function(c){var d={transaction_id:b.transactionId,interaction:"notification_close",interaction_details:c,type_view:"notification",v:p.getAppVersion(),settings:a.settings,url:b.url};return s&&b.wasCleared?!1:(d.interaction_details={status:c,duration:Math.round((Date.now()-b.start)/1e3)},void m.sendSovetnikStats(d))})}()})}},{key:"onShown",value:function(){var a=this;j(function(b){var d=c(58),e={transaction_id:a.transactionId,interaction:"notification_shown",interaction_details:b,type_view:"notification",v:p.getAppVersion(),settings:d.settings,url:a.url};m.sendSovetnikStats(e)})}},{key:"onClicked",value:function(){var a=this;this.pa=!0,this.clear(function(){n.create(a.link)})}},{key:"onButtonClicked",value:function(a){var b=this;this.pa=!0,this.clear(function(){b.buttons&&a<b.buttons.length&&n.create(b.buttons[a].link)})}},{key:"removeFromQueue",value:function(){this.removeFromQueueTimeout&&clearTimeout(this.removeFromQueueTimeout),this.tabId&&w[this.tabId]===this&&delete w[this.tabId]}}],[{key:"notificationId",get:function(){return"svt"}}]),a}();j(function(a,b){b&&k()}),a.exports={showNotification:g,clearNotification:i,getAvailabilityStatus:j}},function(a,b,c){"use strict";var d=c(59),e=c(65),f=c(26),g=f.getApiHost(),h=c(68),i=c(69),j=i.setTimeout,k=i.clearTimeout,l=f.getDomainsJSONUrl(),m=2048,n={qa:g+"/settings/check",ra:g+"/sovetnik",sa:g+"/init-extension",ta:g+"/products",ua:g+"/v2.0/avia-search-start",va:g+"/v2.0/avia-search-check",wa:l,xa:f.getClientEventUrl(),ya:g+"/tc",za:g+"/tch",Aa:g+"/feedback",Ba:g+"/chps",Ca:g+"/pf",Da:"https://soft.export.yandex.ru/status.xml",Ea:function(a,b,c){var d=new h;d.withCredentials=!0,d.open("GET",a,!0),d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b&&b(d.responseText):c&&c())},c&&(d.onerror=function(){c()}),d.send(null)},Fa:function(a,b,c){void 0===b&&(b={});var d=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],e=new h;e.withCredentials=!0,e.open("POST",a,!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),Object.keys(d).forEach(function(a){e.setRequestHeader(a,d[a])}),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&c&&c(e.responseText)},e.send(JSON.stringify(b))},Ga:function(a,b,c){var d=[];b.hash=b.hash||(new Date).getTime();for(var e in b)d.push(e+"="+encodeURIComponent(b[e]));d.length&&(a=a+"?"+d.join("&")),this.Ea(a,function(a){if(a){var b=JSON.parse(a);b.hasOwnProperty("status")&&c(b.status)}})},Ha:function(){var a=3e4;return this.Ia=this.Ia||0,a+1e3*Math.pow(2,this.Ia++)},loadDomainsInfo:function(a){var b=this,c=j(function(){return b.loadDomainsInfo(a)},this.Ha()),d=this.wa;this.Ea(d,function(b){if(b)try{var d=JSON.parse(b);k(c),a(d)}catch(e){}})},isDomainDisabled:function(a,b){this.Ga(this.qa,{domain:a},b)},getUserAgreementStatus:function(a,b){this.Ga(this.qa,{userAgreement:!0,clid:a},b)},isSovetnikRemoved:function(a){this.Ga(this.qa,{removed:!0},a)},isSecondScript:function(a,b,c){this.Ga(this.qa,{affId:b,clid:a},c)},setStartedInfo:function(a){this.Fa(this.ra,{version:1},a)},Ja:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")},Ka:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&");return this.ua+"?"+b},La:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&");return this.va+"?"+b},sendAviaStartRequest:function(a,b){this.Ea(this.Ka(a),b,function(){return b({error:"server"})})},sendAviaCheckRequest:function(a,b){this.Ea(this.La(a),b,function(){return b({error:"server"})})},Ma:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=this.Ja(a);return this.ta+"?"+b},sendProductRequest:function(a,b){var c=this.Ja(a);c.length>m?this.Fa(this.Ma(),a,b,{"X-HTTP-Method-Override":"GET"}):this.Ea(this.Ma(a),b,function(){return b({error:"server"})})},getInitExtensionUrl:function(a,b){var c=this;return new Promise(function(f){var g=c.sa+"?settings="+encodeURIComponent(JSON.stringify(a))+"&hash="+Date.now(),h=c.Ja(b);g+=h&&"&"+h,new Promise(function(a,b){chrome.storage&&chrome.storage.local?chrome.storage.local.get(["install_date"],function(b){var c=b.install_date;a(c)}):a(d.get("install_date"))}).then(function(a){a?f(g):(g+="&first-request=true",e().then(function(a){g+="&ui="+a,chrome&&chrome.management?chrome.management.getSelf(function(a){var b=a.version;g+="&version="+b,f(g)}):f(g)}))})})},initExtension:function(a,b,c){var d=this;void 0===b&&(b={});var e=void 0;e=j(function(){return d.loadDomainsInfo(a,c)},this.Ha()),this.getInitExtensionUrl(a,b).then(function(a){d.Ea(a,function(a){if(a)try{k(e),c(a)}catch(b){}})})},sendParserFailed:function(a){var b=this.Ca+"?"+this.Ja(a);this.Ea(b)},trackCart:function(a){var b=this.ya+"?"+this.Ja(a);this.Ea(b)},trackCheckout:function(a){var b=this.za+"?"+this.Ja(a);this.Ea(b)},sendSovetnikStats:function(a,b){this.Fa(this.xa,a,b)},sendFeedback:function(a){this.Fa(this.Aa,a)},changeTapki:function(a){var b=this.Ba+"?"+this.Ja(a);this.Ea(b)},sendDistrPing:function(a,b,c,d,e){var f=this.Da+"?"+this.Ja({ui:a,clid:b,version:c,stat:"dayuse",yasoft:"sovetnik",tmst:(new Date).getTime()});this.Ea(f,d)}};a.exports=n},function(a,b,c){"use strict";function d(){return new Promise(function(a){f.get(g,h).then(function(b){var c=void 0;if(b)c=decodeURI(b);else{c=e();var d=(new Date).getTime(),j=new Date(d+i);f.set(g,h,c,j)}a(c)})})}function e(){for(var a="{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}",b="0123456789ABCDEF";-1!==a.indexOf("x");)a=a.replace("x",b[Math.floor(16*Math.random())]);return a}var f=c(66),g="http://.chrome-elements.yandex.addons",h="yandex.statistics.ui",i=31536e8;a.exports=d},function(a,b,c){"use strict";var d=void 0;d=c(67),a.exports=d},function(a,b,c){"use strict";var d=c(13),e={get:function(a,b){return new d(function(c){chrome.cookies.getAllCookieStores(function(d){var e="0";d&&d.length&&(e=d[0].id),chrome.cookies.get({url:a,name:b,storeId:e},function(a){c(a&&a.value)})})})},set:function(a,b,c,e){var f={url:a,name:b,value:c};return e&&e instanceof Date&&(f.expirationDate=Math.round(e.getTime()/1e3)),new d(function(a){chrome.cookies.set(f,function(){a()})})}};a.exports=e},function(a,b){"use strict";var c=void 0;c=XMLHttpRequest,a.exports=c},function(a,b){"use strict";var c={};c.setTimeout=function(a,b){return setTimeout(a,b)},c.clearTimeout=function(a){return clearTimeout(a)},c.setInterval=function(a,b){return setInterval(a,b)},c.clearInterval=function(a){return clearInterval(a)},a.exports=c},function(a,b,c){"use strict";function d(){return h||(h=new Promise(function(a){e.initExtension(f.settings,g(),function(b){try{var c=JSON.parse(b);c.settings&&c.settings.install_id&&c.settings.install_time&&(f.setInstallId(c.settings.install_id),f.setInstallTime(c.settings.install_time)),c.settings&&c.settings.aff_id&&f.setAffId(c.settings.aff_id),c.settings&&c.settings.clid&&(f.setClid(c.settings.clid),f.setFromPpFlag(!0)),a(c)}catch(d){a({})}})})),h}var e=c(64),f=(c(59),c(58)),g=function(){return"undefined"!=typeof chrome&&chrome.i18n?{locale:chrome.i18n.getUILanguage()}:void 0},h=void 0;a.exports=d},function(a,b,c){"use strict";var d=c(2),e=c(72),f=c(75),g=c(5),h=c(58).settings.clid;window.api={getRequestCache:function(){return e},getCurrentUrl:function(a){return g.getActiveTabUrl(a)},getBackgroundHub:function(){return d},getCategoryUrls:function(){var a=this.getPopupUrlTemplates(),b=a.marketCategoryUrlTemplate,c={},d={electronics:54440,computers:54425,appliances:54419,house:54422,clothes:54432,kids:54421,beauty:54438,sport:54436,auto:54418},f=e.getCurrentItem().getTransactionId();for(var g in d)d.hasOwnProperty(g)&&(c[g]=b.replace("__category_id__",d[g]).replace("__transaction_id__",f));return c},getPopupUrlTemplates:function(){var a=f()||{};return a.searchUrl=a.searchUrl||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2Fsearch.xml%3Fclid%3D"+h+"%26distr_type%3D4%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dpopup-search%26text%3D__search_text__&transaction_id=__transaction_id__&target=popup-search&click_type=market&from_button=1",a.suggestUrl=a.suggestUrl||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2F__path_to_suggest__%3Fclid%3D"+h+"%26distr_type%3D4%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dpopup-search-suggest&transaction_id=__transaction_id__&target=popup-search-suggest&click_type=market&from_button=1",a.marketLogoUrl=a.marketLogoUrl||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2F%3Fclid%3D"+h+"%26distr_type%3D4%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dpopup-search-marketlogo&transaction_id=__transaction_id__&target=popup-search-marketlogo&click_type=market&from_button=1",a.emptySearchUrl=a.emptySearchUrl||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2F%3Fclid%3D"+h+"%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dpopup-search-empty&transaction_id=__transaction_id__&target=popup-search-empty&click_type=market&from_button=1",a.marketCategoryUrlTemplate=a.marketCategoryUrlTemplate||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2Fcatalog%2F__category_id__%3Fclid%3D"+h+"%26distr_type%3D4%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dpopup-category&transaction_id=__transaction_id__&target=popup-category&click_type=market&from_button=1",a.yandexUrl=a.yandexUrl||"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fwww.yandex.ru%2F%3Fclid%3D2265859&transaction_id=__transaction_id__&from_button=1&target=yandex&click_type=info",a},getMarketUrl:function(){return"https://sovetnik.market.yandex.ru/redir?url=https%3A%2F%2Fmarket.yandex.ru%2F%3Fclid%3D"+h+"%26distr_type%3D4%26utm_source%3Dsovetnik%26utm_medium%3Dcpc%26utm_campaign%3Dmarketdata&transaction_id=__transaction_id__&from_button=1&target=market-data&click_type=market"}}},function(a,b,c){"use strict";var d=c(73),e=c(2),f=c(5),g=c(74),h=c(25),i={Na:[],K:null,Oa:{},setCurrent:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];(this.K!==a||b)&&(this.K=a,e.trigger("request-cache:change-current",this.getCurrentItem()))},getCurrentItem:function(){return this.K||(this.K=new d(null,{transaction_id:"unknown"})),this.K},removeFromCache:function(a){var b=this;delete this.Oa[a],this.Na=this.Na.filter(function(c){var d=c.isFromTab(a);return d&&b.K&&(b.K===c||b.K.isEmpty())&&b.setCurrent(null),!d})},setCurrentTab:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],d=this.Na.some(function(d){return d.isFromTab(a.tabId)?(b.setCurrent(d,c),!0):void 0});if(!d){this.Oa[a.tabId];this.addToCache(a,{transaction_id:h("unknown-")})}},replaceTabIds:function(a,b){this.Na=this.Na.map(function(c){return c.isFromTab(a)&&c.changeTabId(b),c}),delete this.Na[a]},addToCache:function(a,b){var c=this.Oa[a.tabId];b&&b.transaction_id&&c&&(c.url===a.url?b.transaction_id=c.transaction_id:delete this.Oa[a.tabId]);var e=new d(a,b);this.Oa[a.tabId]&&(e.isEmpty()&&this.Oa[a.tabId].url===a.tabUrl?e.changeTransactionId(this.Oa[a.tabId].transactionId):delete this.Oa[a.tabId]),this.removeFromCache(a.tabId),e.isEmpty()&&(this.Oa[a.tabId]={url:a.tabUrl,transactionId:e.getTransactionId()}),b&&Object.keys(b).length>1&&e.markHubAsInitialized(),this.Na.push(e),this.reCheckCurrentTab()},addResponseForRequest:function(a,b,c){var d=this;this.Na.some(function(b){var f=b.getTransactionId(),g=a.url,h=a&&f===a.transaction_id&&!b.isFoundSomething()||!b.request;return h?(b.addResponseToCache(c),b===d.getCurrentItem()&&(e.trigger("request-cache:change-current",b),b.isFoundSomething()?e.trigger("request-cache:result-found",f,g):e.trigger("request-cache:result-not-found")),!0):void 0}),this.reCheckCurrentTab(!0)},reCheckCurrentTab:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];f.getActiveTabInfo(function(c){c&&c.tabId&&a.setCurrentTab(c,b)})},getItemForTab:function(a){for(var b=0;b<this.Na.length;b++)if(this.Na[b]&&this.Na[b].isFromTab(a))return this.Na[b]},init:function(){f.onRemoved(function(a){return i.removeFromCache(a)}),f.onReplaced(function(a,b){i.removeFromCache(b)}),f.onActivate(function(a){f.getTabUrl(a,function(b){i.setCurrentTab({tabId:a,tabUrl:b}),i.getCurrentItem().isEmpty()&&g(a)})}),f.onUpdate(function(a){i.removeFromCache(a)}),e.on("script:transaction-id",function(a,b){b&&b.tabId&&i.addToCache(b,{transaction_id:a})}),e.on("script:not-found",function(a){a&&a.tabId&&i.addResponseForRequest(null,a.tabId,{})}),e.on("script:start",function(a){if(a&&a.tabId){var b=i.getItemForTab(a.tabId);b&&b.markHubAsInitialized()}}),e.on("script:user-select",function(a,b){if(b&&b.tabId){var c=i.getItemForTab(b.tabId);c&&c.setUserSelection(a)}}),e.on("script:user-unselect",function(a){if(a&&a.tabId){var b=i.getItemForTab(a.tabId);b&&b.setUserSelection(null)}})}};"complete"===window.document.readyState||"interactive"===window.document.readyState?i.init():window.addEventListener("load",function(){return i.init()}),a.exports=i},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=c(2),h=function(){function a(b,c){d(this,a),this.tabInfo=b,this.request=c,this.canSendError=!0,this.isLoaderFail=!1,this.visualState={}}return e(a,[{key:"isFromTab",value:function(a){return this.tabInfo&&this.tabInfo.tabId===a}},{key:"changeTabId",value:function(a){this.tabInfo&&(this.tabInfo.tabId=a)}},{key:"addResponseToCache",value:function(a){this.response=a,this.isFoundSomething()&&this.setIsLoaderFail(!1)}},{key:"getTransactionId",value:function(){return this.request&&this.request.transaction_id||"unknown"}},{key:"getVisualState",value:function(){return f.mixin({},this.visualState)}},{key:"setVisualState",value:function(a){this.visualState=f.mixin(this.visualState,a)}},{key:"getCanSendError",value:function(){return this.canSendError}},{key:"setCanSendError",value:function(a){this.canSendError=a}},{key:"setUserSelection",value:function(a){this.userSelection=a}},{key:"getUserSelection",value:function(){return this.userSelection}},{key:"getIsLoaderFail",value:function(){return this.isLoaderFail}},{key:"setIsLoaderFail",value:function(a){this.isLoaderFail=a}},{key:"isEmpty",value:function(){var a=this.getTransactionId();return!(a&&-1===a.indexOf("unknown")||this.isLoaderFail)}},{key:"isTriggeredByUser",value:function(){return!(!this.request||!this.request.manual)}},{key:"isFoundSomething",value:function(){if(this.response){var a=this.response,b=a.offers,c=a.similarModels,d=a.searchResult;return!!(b&&b.length||c&&c.length||d&&d.length)}return!1}},{key:"isFinalResultFound",value:function(){return this.response&&(this.isFoundSomething()||this.isTriggeredByUser())&&!this.getUserSelection()}},{key:"triggerManualSearch",value:function(){return this.tabInfo&&this.isHubInitialized?(this.request.manual=!0,g.trigger("extension:manual-search",this.tabInfo),!0):!1}},{key:"markHubAsInitialized",value:function(){this.isHubInitialized=!0}},{key:"getUrl",value:function(){return this.tabInfo&&this.tabInfo.tabUrl||"unknown"}},{key:"changeTransactionId",value:function(a){this.request||(this.request={}),this.request.transaction_id=a}}]),a}();a.exports=h},function(a,b,c){"use strict";function d(){var a=chrome.runtime.getManifest();if(a&&a.content_scripts){var b=a.content_scripts.reduce(function(a,b){return b.js&&(a=a.concat(b.js)),a},[]),c=b.map(function(a){var b=new XMLHttpRequest;b.responseType="text",b.open("GET",a);var c=new f(function(a){b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a(b.responseText)}});return b.send(null),c});return f.all(c).then(function(a){return a.unshift("window.loadSovetnikModule = null; window.loadSovetnikInjectorModule = null;"),a.join("\n")})}}function e(a){a&&g.then(function(b){chrome.tabs.executeScript(a,{code:b},function(){if(chrome.runtime.lastError);})})}var f=c(13),g=d();a.exports=e},function(a,b,c){"use strict";function d(){return e().then(function(a){f={searchUrl:a.searchUrl,suggestUrl:a.suggestUrl,marketLogoUrl:a.marketLogoUrl,emptySearchUrl:a.emptySearchUrl,marketCategoryUrlTemplate:a.marketCategoryUrlTemplate,yandexUrl:a.yandexUrl}}),function(){return f}}var e=c(70),f=void 0;a.exports=d()},function(a,b,c){"use strict";var d=c(72),e=c(2),f=c(64),g=c(77),h={init:function(){e.on("server-request",function(a,b,c,h){h&&h.namespace&&!function(){var c=h.namespace.split(":")[1];d.addToCache(b,a),f.sendProductRequest(Object.assign({},g(),a),function(f){if("string"==typeof f)try{f=JSON.parse(f)}catch(g){f={error:"parse-error"}}d.addResponseForRequest(a,null,f),e.trigger("server-response:"+c,f,b)})}()}),e.on("server:parser-failed",function(a){f.sendParserFailed(a)}),e.on("server-request-cart",function(a){f.trackCart(a)}),e.on("server-request-checkout",function(a){f.trackCheckout(a)}),e.on("server-request-change-tapki",function(a,b){b&&f.changeTapki(a)})}};h.init()},function(a,b,c){"use strict";function d(){return{}}c(59);a.exports=d},function(a,b,c){"use strict";var d=c(72),e=c(2),f=c(64),g={init:function(){e.on("server-start-avia-search",function(a,b,c,g){g&&g.namespace&&!function(){var c=g.namespace.split(":")[1];d.addToCache(b,a),f.sendAviaStartRequest(a,function(f){if("string"==typeof f)try{f=JSON.parse(f)}catch(g){f={error:"parse-error"}}d.addResponseForRequest(a,null,f),e.trigger("server-response:"+c,f,b)})}()}),e.on("server-check-avia-search",function(a,b,c,g){g&&g.namespace&&!function(){var c=g.namespace.split(":")[1];d.addToCache(b,a),f.sendAviaCheckRequest(a,function(f){if("string"==typeof f)try{f=JSON.parse(f)}catch(g){f={error:"parse-error"}}d.addResponseForRequest(a,null,f),e.trigger("server-response:"+c,f,b)})}()})}};g.init()},function(a,b,c){"use strict";var d=c(64),e=c(5),f=c(2),g=c(58),h=c(12),i={Pa:function(a,b,c,e,f){var i={url:a,transaction_id:e,interaction:b,interaction_details:f,type_view:c,settings:g.settings,v:h.getAppVersion()};d.sendSovetnikStats(i)},trackButtonPopupShown:function(a,b,c){var d=this;"unknown"===a?e.getActiveTabUrl(function(a){d.Pa(a,"button-popup-shown","button",b,c)}):this.Pa(a,"button-popup-shown","button",b,c)},trackWrongProduct:function(a,b){var c=this;"unknown"===a?e.getActiveTabUrl(function(a){c.Pa(a,"wrong_product","button",b)}):this.Pa(a,"wrong_product","button",b)},trackSearchResultsMore:function(a,b,c){this.Pa(a,"search-results-more","button",b,c)},trackLoaderFail:function(a,b){this.Pa(a,"loader-fail","button",b)},trackHintClick:function(a,b){this.Pa(a,"hint-click","button",b)},trackTabClick:function(a,b,c){this.Pa(a,"tab_view","button",b,c)},trackButtonAnimation:function(a,b,c){this.Pa(c,"button-animation","button",b,a)},init:function(){var a=this;g.isStatsEnabled()&&f.on("button-popup:loader-fail",function(b,c){a.trackLoaderFail(b,c)}),f.on("button-popup:shown",function(b,c,d){a.trackButtonPopupShown(b,c,d)}),f.on("popup:track-error",function(b,c){a.trackWrongProduct(b,c)}),f.on("stat:search-results-more",function(b,c,d){a.trackSearchResultsMore(b,c,d)}),f.on("stat:hint-click",function(b,c){a.trackHintClick(b,c)}),f.on("stat:tabs-click",function(b,c,d){a.trackTabClick(b,c,d)})}};i.init()},function(a,b,c){"use strict";function d(){if(j){var a=h.all(r.map(function(a){return j.get(a,o)})).then(function(a){return a=a.filter(function(a){return!!a}),a&&a.length?a[0]:void 0}),b=h.all(r.map(function(a){return j.get(a,p)})).then(function(a){return a=a.filter(function(a){return!!a}),a&&a.length?a[0]:void 0});return h.all([a,b]).then(function(a){var b=g(a,2),c=b[0],d=b[1];return{clid:c,affId:d}})}return h.resolve()}function e(){var a=i.get(o),b=i.get(p),c=i.get(q);return h.resolve({affId:b,clid:a,fromPpFlag:c})}function f(){n().then(function(a){a&&(l.settings&&5===l.settings.affId||l.settings&&l.settings.clid===v||h.all([d(),e()]).then(function(a){var b=a[0]||{},c=a[1]||{},d=!!c.fromPpFlag,e=!1,f=b;f.clid||(!f.clid&&c.clid&&(f.clid=c.clid,e=!0),!f.affId&&c.affId&&(f.affId=c.affId)),f.clid?(f.clid=f.clid.replace(/[^\d\-]/g,""),l.setClid(f.clid)):f.affId||(l.settings.affId?f.affId=l.settings.affId:f.affId=s),f.affId?l.setAffId(f.affId):e?l.setAffId(u):l.setAffId(t),e&&!d||m().then(function(a){a&&a.welcome&&k.create(a.welcome)})}))})}var g=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=c(13),i=c(59),j=c(66),k=c(81),l=c(58),m=c(70),n=c(82),o="yandex.statistics.clid.21",p="sovetnik.aff_id",q="sovetnik.from_pp_flag",r=["https://sovetnik.yandex.ru","https://market.yandex.ru"],s=1008,t=1300,u=1048,v=2307852;window.addEventListener("load",function w(a){window.removeEventListener("load",w),setTimeout(f,2e3)},!1)},function(a,b,c){"use strict";var d=void 0;d=c(5),a.exports=d;
},function(a,b){"use strict";function c(){return new Promise(function(a){chrome.storage&&chrome.storage.local?chrome.storage.local.get(["install_date"],function(b){var c=b.install_date;c?a(!1):chrome.storage.local.set({install_date:(new Date).getTime()},function(){return a(!0)})}):localStorage.install_date?a(!1):(localStorage.install_date=(new Date).getTime(),a(!0))})}a.exports=c},function(a,b,c){"use strict";var d=c(2),e=c(64),f={init:function(){d.on("popup:send-feedback",function(a,b){e.sendFeedback({message:a,request:b})})}};f.init()},function(a,b,c){"use strict";c(85),c(92),c(93),c(95)},function(a,b,c){"use strict";var d=void 0;d=c(86),a.exports=d},function(a,b,c){"use strict";var d=c(87),e=c(88),f=c(58),g=c(64),h=c(89),i=c(61),j=c(62);d.onMessage(function(a,b,c){if(a.type){var k=f.settings,l=k.clid,m=k.affId;switch(a.type){case"getDomainData":b&&b(e.getDomainData(a.domain));break;case"getSovetnikInfo":b&&b(f);break;case"canUseSovetnik":b&&b(e.canUseSovetnik(a.url,a.referrer));break;case"secondScript":g.isSecondScript(l,m,function(a){a&&f.setSecondScript()});break;case"sovetnikRemoved":g.isSovetnikRemoved(function(a){a&&f.setSovetnikRemovedState(!0)});break;case"userAgreementChanged":g.getUserAgreementStatus(l,function(a){a&&f.setUserAgreementStatus(a)});break;case"domainDisabled":setTimeout(function(){g.isDomainDisabled(a.domain,function(b){b&&h.disableDomain(a.domain)})},1500);break;case"domainEnabled":h.enableDomain(a.domain);break;case"showSettingsPage":i.open();break;case"showNotification":j&&j.showNotification(a.notification,c);break;case"clearNotification":j&&j.clearNotification(a.action);break;case"sovetnikProductResponse":d.sendMessage&&d.sendMessage(a,c)}}})},function(a,b,c){"use strict";var d=void 0;d=c(4),a.exports=d},function(a,b,c){"use strict";var d=c(59),e=c(64),f=c(89),g=c(58),h=c(20),i=c(90),j=864e5,k=/(https?):\/\/([^\/]+)/,l=/ya(ndex)?\./,m=/^https?:\/\/sovetnik/,n={Qa:null,Ra:null,Sa:function(){var a=d.get("domains")||"null";a&&(this.Qa=JSON.parse(a));var b=parseInt(d.get("lastUpdateTime"),10)||0;Date.now()-b>j&&this.Ta()},Ta:function(){var a=this;e.loadDomainsInfo(function(b){b&&(a.Qa=b,d.set("domains",JSON.stringify(b)),d.set("lastUpdateTime",Date.now()))})},getDomainData:function(a){for(a=i.toASCII(a||"");this.Qa&&a&&-1!==a.indexOf(".");){var b=h(a).toString();if(this.Qa[b])return this.Qa[b];a=a.replace(/^[^\.]+\./,"")}return null},canUseSovetnik:function(a,b){if(g.withButton)return!0;if(g.isSecondScript||g.isUserAgreementRejected()||g.isSovetnikRemoved)return!1;if(this.Ra&&!this.Ra(a,b))return!1;if(m.test(a))return!0;if(!k.test(a))return!1;var c=RegExp.$2,d=void 0;k.test(b)&&(d=RegExp.$2);var e=this.getDomainData(c),h=this.getDomainData(d);if(f.isDomainDisabled(c))return!1;if(e&&e.rules&&e.rules.length){if(-1!==e.rules.indexOf("blacklisted"))return!1;if(-1!==e.rules.indexOf("yandex-web-partner"))return!1}return h&&h.rules&&h.rules.length&&-1!==h.rules.indexOf("blacklisted-by-referrer")?!1:!l.test(c)},setCustomCheckFunction:function(a){this.Ra=a}};n.Sa(),a.exports=n},function(a,b,c){"use strict";var d=c(59),e=6048e5,f=d.get("disabledDomains");f=f?JSON.parse(f):{};var g=Date.now();for(var h in f)f[h]&&g-f[h]>e&&(f[h]=0);var i={isDomainDisabled:function(a){return!!f[a]},disableDomain:function(a){f[a]=Date.now(),d.set("disabledDomains",JSON.stringify(f))},enableDomain:function(a){delete f[a],d.set("disabledDomains",JSON.stringify(f))}};a.exports=i},,,function(a,b,c){"use strict";function d(){return n&&!i.isUserAgreementRejected()&&!i.isSovetnikRemoved}function e(){var a=new Date,b=a.toDateString(),c=j.get("ping_last_sent_time");return c!==b}function f(){if(d()&&e()){var a={affId:i.settings.affId,clid:i.settings.clid};i.settings.withButton&&(a.withButton=!0),i.settings.installTime&&(a.installTime=i.settings.installTime),i.settings.installId&&(a.installId=i.settings.installId),g(a).then(function(){return j.set("ping_last_sent_time",(new Date).toDateString())})}}function g(a){var b=new Promise(function(b){h.sendSovetnikStats({settings:a,event:"ping"},b)}),c=m().then(function(b){return b?new Promise(function(c){return h.sendDistrPing(b,a.clid,1,c)}):void 0});return Promise.all([b,c])}var h=c(64),i=c(58),j=c(59),k=c(69),l=k.setInterval,m=c(65),n=(c(12),!0);n=!1;var o=18e5,p=6e4;d()&&(setTimeout(f,p),l(f,o))},function(a,b,c){"use strict";var d=c(94),e="undefined"==typeof window?void 0:window,f=d||{};e.sovetnik=f},function(a,b,c){"use strict";var d=c(88),e=c(58),f={setCheckFunction:function(a){d.setCustomCheckFunction(a)},setOpenSettingsFunction:function(a){e.setCustomSettingsPage(a)},setAutoShowPopup:function(a){e.setUserSetting("autoShowShopList",a)},setActiveCity:function(a){e.setUserSetting("activeCity",{id:a})},setActiveCountry:function(a){e.setUserSetting("activeCountry",{id:a})},setAutoDetectRegion:function(){e.setUserSetting("activeCity",null),e.setUserSetting("activeCountry",null)},setOtherRegions:function(a){e.setUserSetting("otherRegions",a)},setRemovedState:function(a){e.setSovetnikRemovedState(a)},getUserAgreementStatus:function(){return e.userAgreementStatus}};a.exports=f},function(a,b,c){"use strict";var d=c(64),e=c(58);e.settings.silent||d.setStartedInfo()}])}({applicationName:"Советник Яндекс.Маркета",affId:1048,clid:2210393,sovetnikExtension:!0,withButton:!0});